<!DOCTYPE html>
<html lang="en">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>
      TV Control API Specification
    </title>
    <script src="https://www.w3.org/Tools/respec/respec-w3c-common" async
    class="remove">
    </script>
    <script class="remove">
    var respecConfig = {
      specStatus:          "ED",
      shortName:           "tvcontrol-api", // needed for generated URLs
      editors: [{
        w3cid: 62014,
        name: "Steven Morris",
        company: "Espial",
        mailto: "smorris@espial.com"
      }, {
        w3cid: 56362,
        name: "Sung Hei Kim",
        company: "ETRI",
        mailto: "shkim@etri.re.kr",
        note: "until February 2016"
      }, {
        w3cid: 70370,
        name: "Alexander Futász",
        company: "Fraunhofer Gesellschaft",
        mailto: "alexander.futasz@fokus.fraunhofer.de",
        note: "until February 2016"
      }, {
        name: "Sean Lin",
        company: "Mozilla",
        note: "until February 2016"
      }, {
        name: "Gene Lian",
        company: "Mozilla",
        note: "until July 2014"
      }],
	  issueBase:           "https://github.com/w3c/tvcontrol-api/issues/",
      publishDate:         "", // no needed for "ED" or "unofficial"
      edDraftURI:          "https://w3c.github.io/tvcontrol-api/", // needed for "ED"
      previousPublishDate: "", // needed for "WD", "LC", "CR"
      previousMaturity:    "", // needed for "WD", "LC", "CR"
      lcEnd:               "", // needed for "LC"
      crEnd:               "", // needed for "CR"
      wg:           "TV Control Working Group",
      wgURI:        "https://www.w3.org/2016/tvcontrol/",
      wgPublicList: "public-tvcontrol",
      wgPatentURI:  "https://www.w3.org/2004/01/pp-impl/90021/status",
      otherLinks: [{
        key: "Version History",
        data: [{
          value: 'GitHub w3c/tvcontrol-api/commits',
          href: "https://github.com/w3c/tvcontrol-api/commits/gh-pages"
        }]
      }],
      inlineCSS:    true,
      noIDLIn:      true,
      noIDLSorting: true,
      copyrightStart: "2014",
      localBiblio: {
        "ISO639-2": {
          title: "Codes for the representation of names of languages -- Part 2: Alpha-3 code",
          href: "http://www.iso.org/iso/catalogue_detail?csnumber=4767",
          publisher:  "ISO",
          date: "22 October 1998"
        }
      }
    };
    </script>
  </head>
  <body class="h-entry">
    <!-- - - - - - - - - - - - - - - Abstract  - - - - - - - - - - - - - - - - - -->
    <section id="abstract">
      This specification defines an API for sourcing audio and video media,
      such as TV and radio from broadcast, IPTV, or other sources, with
      associated channel and program metadata, and allows presentation of the
      media using the <code>&lt;video&gt;</code> and <code>&lt;audio&gt;</code>
      HTML elements. The API is agnostic of any underlying audio or video
      sourcing technologies.
    </section>
    <!-- - - - - - - - - - - - - - - Status of this document - - - - - - - - - - -->
    <section id="sotd">
      <p>
        This document is <strong>work in progress</strong> and is subject to
        change. The API has significantly evolved since publication as a First
        Public Working Draft on
        <a href="https://www.w3.org/TR/2016/WD-tvcontrol-api-20160915/"
        title="First Public Working Draft of the TV Control API">15
        September 2016</a>. The <code>TVTuner</code> class has been removed
        in particular, and the API follows a more flexible source-centric
        design.
      </p>
      <p>
        An important issue for the Working Group to address is which functions
        are appropriate to be accessed from general web applications, and the
        mechanisms that may be needed to address any security and user privacy
        concerns.
      </p>
      <p>
        <strong>Changes to this document may be tracked at the specification's
        <a href="https://github.com/w3c/tvcontrol-api/">GitHub
        repository</a>.</strong>
      </p>
    </section>
    <!-- - - - - - - - - - - - - - - Introduction  - - - - - - - - - - - - - - - -->
    <section class="informative">
      <h2>
        Introduction
      </h2>
      <p>
        This specification defines the TV Control API, which aims to enable web
        applications to present audio and video media from broadcast TV and
        radio, IPTV, or other sources, using the <code>&lt;audio&gt;</code> and
        <code>&lt;video&gt;</code> HTML elements. The API provides access to
        programme and service information and allows media recordings to be
        scheduled and replayed.
      </p>
      <p>
        TV functionality is accessed through the <a>TVManager</a> object which,
        via the <a>TVSource</a> object allows applications
        to select and present a TV or Radio channel. Presentation is achieved
        by obtaining a <a>TVMediaStream</a> object from the <a>TVSource</a> and
        assigning this to the <code>srcObject</code> attribute of an
        <code><a>HTMLMediaElement</a></code>. The <a>TVMediaStream</a>
        interface extends <code><a>MediaStream</a></code> to allow buffering of
        the received media, to enable pause/resume and timeshifted playback.
      </p>
      <p class="ednote">
        The <code>TVTuner</code> class has been removed from this draft. See <a href=
        "https://github.com/w3c/tvcontrol-api/issues/4">this issue</a> for
        details.
      </p>
      <p>
        <a>TVManager</a> also allows recordings to be scheduled and replayed,
        and application control of the parental lock, to prevent unwanted
        viewing of particular channels or programs.
      </p>
      <p>
        <a>TVSource</a> gives access to lists of available channels and
        programs, and allows applications to set the current channel to be
        presented. <a>TVChannel</a> contains TV and Radio channel attributes,
        and program schedule information, as a collection of <a>TVProgram</a>
        objects.
      </p>
    </section>
    <!-- - - - - - - - - - - - - - - Terminology  - - - - - - - - - - - - - - - -->
    <section>
      <h2>
        Terminology
      </h2>
      <p>
        The <dfn><a href=
        "http://www.w3.org/TR/html5/webappapis.html#eventhandler">EventHandler</a></dfn>
        interface represents a callback used for event handlers as defined in
        [[!HTML5]].
      </p>
      <p>
        The <dfn><a href=
        "http://www.w3.org/TR/dom/#interface-event">Event</a></dfn> and
        <dfn><a href=
        "http://www.w3.org/TR/dom/#interface-eventtarget">EventTarget</a></dfn>
        interfaces are defined in [[!DOM]].
      </p>
      <p>
        The concepts <dfn><a href=
        "http://www.w3.org/TR/html5/webappapis.html#queue-a-task">queue a
        task</a></dfn> and <dfn><a href=
        "http://www.w3.org/TR/html5/webappapis.html#fire-a-simple-event">fire
        an event</a></dfn> are defined in [[!HTML5]].
      </p>
      <p>
        The terms <a href=
        "http://www.w3.org/TR/html5/webappapis.html#event-handlers"><dfn id=
        "dfn-eventhandler">event handler</dfn></a> and <a href=
        "http://www.w3.org/TR/html5/webappapis.html#event-handler-event-type"><dfn id="dfn-eventtypes">
        event handler event types</dfn></a> are defined in [[!HTML5]].
      </p>
      <p>
        The <dfn><a href=
        "https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></dfn>
        interface, the concepts of a <a href=
        "https://tc39.github.io/ecma262/#sec-promise-resolve-functions"><dfn>resolver</dfn></a>,
        a <dfn id="dfn-fulfill-algorithm"><a href=
        "https://tc39.github.io/ecma262/#sec-fulfillpromise">resolver's fulfill
        algorithm</a></dfn> and a <dfn id="dfn-reject-algorithm"><a href=
        "https://tc39.github.io/ecma262/#sec-rejectpromise">resolver's reject
        algorithm</a></dfn> are defined in [[ECMAScript]].
      </p>
      <p>
        The <dfn><a href=
        "http://www.w3.org/TR/mediacapture-streams/#mediastream">MediaStream</a></dfn>
        interface is defined in [[!MediaCapture-Streams]].
      </p>
      <p>
        The <dfn><a href=
        "http://www.w3.org/TR/mediastream-recording/#dom-mediarecorder">MediaRecorder</a></dfn>
        interface is defined in [[MediaStream-Recording]].
      </p>
      <p>
        The <dfn><a href=
        "http://www.w3.org/TR/html5/embedded-content-0.html#the-video-element">video</a></dfn>
        element, and <dfn><a href=
        "http://www.w3.org/TR/html5/embedded-content-0.html#the-audio-element">audio</a></dfn>
        <dfn><a href=
        "http://www.w3.org/TR/html5/embedded-content-0.html#htmlmediaelement">HTMLMediaElement</a></dfn>,
        <dfn><a href=
        "http://www.w3.org/TR/html5/embedded-content-0.html#timeranges">TimeRanges</a></dfn>
        interfaces are defined in [[!HTML5]].
      </p>
      <p>
        The <dfn><a href=
        "http://www.w3.org/TR/html5/embedded-content-0.html#texttrack">TextTrack</a></dfn>,
        <dfn><a href=
        "http://www.w3.org/TR/html5/embedded-content-0.html#texttrackcue">TextTrackCue</a></dfn>,
        and <dfn><a href=
        "http://www.w3.org/TR/html5/embedded-content-0.html#trackevent">TrackEvent</a></dfn>
        interfaces are defined in [[!HTML5]]
      </p>
    </section>
    <!-- - - - - - - - - - - - - Extended Interface Navigator  - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>Navigator</dfn></a> Interface
      </h2>
      <pre class="idl">partial interface Navigator {
    [SameObject]
    readonly        attribute TVControl tv;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="Navigator" data-link-for=
        "Navigator">
          <dt>
            <dfn><code>tv</code></dfn> of type <span class=
            "idlAttrType"><a>TVControl</a></span>, readonly
          </dt>
          <dd>
            MUST return the object that exposes the interface to the TV control
            service.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - - - - Interface TVControl  - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVControl</dfn></a> Interface
      </h2>
	        <p>
        The <a>TVControl</a> interface represents the entry point in to the TV 
		Control API for applications.
      </p>
      <pre class="idl">interface TVControl {
		Promise&lt;TVManager&gt; getTVManager();
		Promise&lt;TVManager&gt; getRadioManager(); 
};</pre>
      <section>
        <h2>
          Methods
        </h2>
        <dl class="attributes" data-dfn-for="TVControl" data-link-for=
        "TVControl">
          <dt>
            <dfn><code>getTVManager</code></dfn>
          </dt>
          <dd>
            This method makes a request to retrieve a manager for TV services. It 
			returns a new <code><a>TVManager</a></code> that can be used for 
			interacting with TV services available through the device. Note that 
			these services may include radio services delivered via a digital TV 
			system.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em>
              <code>Promise&lt;TVManager&gt;</code>
            </div>
          </dd>
         <dt>
            <dfn><code>getRadioManager</code></dfn>
          </dt>
          <dd>
            This method makes a request to retrieve a manager for radio services. 
			It returns a new <code><a>TVManager</a></code> that can be used for 
			interacting with radio services (e.g. delivered via AM, FM or DAB) 
			available through the device.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em>
              <code>Promise&lt;TVManager&gt;</code>
            </div>
          </dd>
		</dl>
      </section>
    </section>

    <!-- - - - - - - - - - - - - Interface TVManager  - - - - - - - - - - - - - -->

    <section>
      <h2>
        <a><dfn>TVManager</dfn></a> Interface
      </h2>
      <p>
        The <a>TVManager</a> interface represents the set of operations that can 
		be used to manage the TV/Radio device.
      </p>
      <p class=”issue” data-number=”4”>The location of the 
	  <code>getChannelList()</code> method is still under discussion: this draft 
	  includes versions of this method on both the <code>TVManager</code> and 
	  <code>TVSource</code> interfaces.  It is highly likely that one of these 
	  will be removed in a future draft.</p>
	  <pre class="idl">interface TVManager : EventTarget {
    TVSourceCapabilities getCapabilities();
    Promise&lt;TVSource&gt; getSource(TVSourceConstraints constraints);
    boolean isSourceAvailable(TVSourceConstraints constraints);

	Promise&lt;sequence&lt;TVChannel&gt;&gt; getChannelList(TVSourceConstraints constraints);
    
    Promise&lt;TVRecording&gt;           addRecording (TVAddRecordingOptions option);
    Promise&lt;void&gt;                  removeRecording (DOMString id);
    Promise&lt;sequence&lt;TVRecording&gt;&gt; getRecordings (optional TVGetRecordingsOptions options);
    Promise&lt;void&gt;                  setParentalControlPin (DOMString oldPin, DOMString newPin);
    Promise&lt;void&gt;                  setParentalControl (DOMString pin, boolean isLocked);
    Promise&lt;sequence&lt;TVCICard&gt;&gt;    getCICards ();
    readonly        attribute unsigned long long totalRecordingSize;
    readonly        attribute unsigned long long availableRecordingSize;
    readonly        attribute boolean            isParentalControlled;
                    attribute EventHandler       ontunerchange;
                    attribute EventHandler       onrecordingchange;
                    attribute EventHandler       onparentalcontrolchange;
                    attribute EventHandler       oncicardchange;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVManager" data-link-for=
        "TVManager">
          <dt>
            <dfn><code>totalRecordingSize</code></dfn> of type <span class=
            "idlAttrType"><a>unsigned long long</a></span>, readonly
          </dt>
          <dd>
            MUST return the total recording size of the TV device in bytes.
          </dd>
          <dt>
            <dfn><code>availableRecordingSize</code></dfn> of type <span class=
            "idlAttrType"><a>unsigned long long</a></span>, readonly
          </dt>
          <dd>
            MUST return the current available recording size of the TV device in bytes.
          </dd>
          <dt>
            <dfn><code>isParentalControlled</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>, readonly
          </dt>
          <dd>
            MUST return the current state of the TV parental control, which is
            applied system-wide to the TV device. Once the parental control is
            unset, all the locked TV channels/programs will become accessible.
          </dd>
          <dt>
            <dfn><code>ontunerchange</code></dfn> of type <span class=
            "idlAttrType"><a>EventHandler</a></span>
          </dt>
          <dd>
            Handles the <code>tunerchange</code> event of type
            <a>TVTunerChangeEvent</a>, fired when the TV/Radio device detects
            a tuner is added/removed.
          </dd>
          <dt>
            <dfn><code>onrecordingchange</code></dfn> of type <span class=
            "idlAttrType"><a>EventHandler</a></span>
          </dt>
          <dd>
            Handles the <code>recordingchange</code> event of type
            <a>TVRecordingChangeEvent</a>, fired when the recording time frame
            or the state of the TV/Radio recording has been changed.
          </dd>
          <dt>
            <dfn><code>onparentalcontrolchange</code></dfn> of type
            <span class="idlAttrType"><a>EventHandler</a></span>
          </dt>
          <dd>
            Handles the <code>parentalcontrolchange</code> event, fired when
            the parental control status is changed.
          </dd>
          <dt>
            <dfn><code>oncicardchange</code></dfn> of type <span class=
            "idlAttrType"><a>EventHandler</a></span>
          </dt>
          <dd>
            Handles the <code>cicardchange</code> event, fired when the CI
            (Common Interface) card status is changed.
          </dd>
        </dl>
      </section>
      <section>
        <h2>
          Methods
        </h2>
        <dl class="methods" data-dfn-for="TVManager" data-link-for="TVManager">
          <dt>
            <dfn><code>getCapabilities</code></dfn>
          </dt>
          <dd>
            This method makes a request to retrieve the capabilities of the 
			device. It returns a new <code><a>TVSourceCapabilities</a></code> 
			object that describes the capabilities of the device for receiving 
			and decoding TV or radio services.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em>
              <code>TVSourceCapabilities</code>
            </div>
          </dd>
          <dt>
            <dfn><code>getSource</code></dfn>
          </dt>
          <dd>
            This method makes a request to retrieve a TV/Radio source that matches 
			the specified constraints that are available in the device. It returns 
			a new <code><a>Promise</a></code> that will be used to notify the 
			caller about the result of the operation, which is a <a>TVSource</a> 
			obect.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    option
                  </td>
                  <td class="prmType">
                    <code>TVSourceConstraints</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the constraints for the requested TV source.
                  </td>
                </tr>
              </tbody>
            </table>

            <div>
              <em>Return type:</em>
              <code>Promise&lt;TVSource&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>isSourceAvailable</code></dfn>
          </dt>
          <dd>
            This method returns <code>true</code> if a TV/Radio source that 
			matches the specified constraints is currently available, and 
			<code>false</code> otherwise. Note that the availability of a 
			<code>TVSource</code> will depend on the number of streams being 
			decoded by the device, and may also depend on other factors.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    option
                  </td>
                  <td class="prmType">
                    <code>TVSourceConstraints</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the constraints for the requested TV source.
                  </td>
                </tr>
              </tbody>
            </table>

            <div>
              <em>Return type:</em>
              <code>boolean</code>
            </div>
          </dd>
          <dt>
            <dfn><code>getChannelList</code></dfn>
          </dt>
          <dd>
            This method makes a request to retrieve the list of TV/Radio 
			channels that matches the specified constraints that are available 
			in the device. It returns a new <code><a>Promise</a></code> that 
			will be used to notify the caller about the result of the 
			operation, which is a sequence of <a>TVChannel</a> elements.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    option
                  </td>
                  <td class="prmType">
                    <code>TVSourceConstraints</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the constraints for the requested channel list.
                  </td>
                </tr>
              </tbody>
            </table>

            <div>
              <em>Return type:</em>
              <code>Promise&lt;sequence&lt;TVChannel&gt;&gt;</code>
            </div>
          </dd>


          <dt>
            <dfn><code>addRecording</code></dfn>
          </dt>
          <dd>
            This method adds a recording request for a given channel with
            explicitly specified start time and end time, or instead an
            associated <a>TVProgram</a> object. It returns a new
            <code><a>Promise</a></code> that will be used to notify the caller
            about the result of the operation, which is a newly-created
            <a>TVRecording</a> object.<br>
            Please note the user agent should have a recording scheduler which
            handles time conflicts between recording requests. If this method
            tries to add a new request with a time frame overlapped with some
            existent ones, and given sufficient resource (i.e. tuner), a new
            TV/Radio recording should be created and the scheduler should
            ensure multiple TV/Radio recordings run at the same time. However,
            if the resource is not sufficient to meet the new request, the
            <code><a>Promise</a></code> should be rejected. Applications may
            handle this situation with their own strategy, such as explicitly
            removing the conflicts and re-adding the one to conserve.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    option
                  </td>
                  <td class="prmType">
                    <code>TVAddRecordingOptions</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the options for adding recording.
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em> <code>Promise&lt;TVRecording&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>removeRecording</code></dfn>
          </dt>
          <dd>
            This method makes a request to remove a given recording. It returns
            a new <code><a>Promise</a></code> that will be used to notify the
            caller about the result of the operation.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    id
                  </td>
                  <td class="prmType">
                    <code>DOMString</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the ID of the recording to be removed.
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em> <code>Promise&lt;void&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>getRecordings</code></dfn>
          </dt>
          <dd>
            This method makes a request to retrieve the available TV/Radio
            recordings according to the given criteria. It returns a new
            <code><a>Promise</a></code> that will be used to notify the caller
            about the result of the operation.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    options
                  </td>
                  <td class="prmType">
                    <code>TVGetRecordingsOptions</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptTrue">
                    <span role="img" aria-label="True">✔</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the options for getting recordings.
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em>
              <code>Promise&lt;sequence&lt;TVRecording&gt;&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>setParentalControlPin</code></dfn>
          </dt>
          <dd>
            This method makes a request to set the TV/Radio parental control
            PIN used for enabling or disabling parental control. It returns a
            new <code>Promise</code> that will be used to notify the caller
            about the result of the operation. Note that the
            <code><a>Promise</a></code> may be rejected with an
            <code>InvalidAccessError</code> if the old PIN does not match the
            current one.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    oldPin
                  </td>
                  <td class="prmType">
                    <code>DOMString</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the old PIN used for parental control.
                  </td>
                </tr>
                <tr>
                  <td class="prmName">
                    newPin
                  </td>
                  <td class="prmType">
                    <code>DOMString</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the new PIN used for parental control.
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em> <code>Promise&lt;void&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>setParentalControl</code></dfn>
          </dt>
          <dd>
            This method makes a request to set the TV/Radio parental control
            status. It returns a new <code>Promise</code> that will be used to
            notify the caller about the result of the operation. Note that the
            <code><a>Promise</a></code> may be rejected with an
            <code>InvalidAccessError</code> if the PIN does not match the
            current one.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    pin
                  </td>
                  <td class="prmType">
                    <code>DOMString</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the PIN used for parental control.
                  </td>
                </tr>
                <tr>
                  <td class="prmName">
                    isLocked
                  </td>
                  <td class="prmType">
                    <code>boolean</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the parental control status.
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em> <code>Promise&lt;void&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>getCICards</code></dfn>
          </dt>
          <dd>
            This method makes a request to retrieve a list of CI (Common
            Interface) cards available in the TV device (e.g. set-top box). It
            returns a new <code><a>Promise</a></code> that will be used to
            notify the caller about the result of the operation, which is an
            array of <a>TVCICard</a> elements.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em>
              <code>Promise&lt;sequence&lt;TVCICard&gt;&gt;</code>
            </div>
          </dd>
        </dl>
      </section>
      <section>
        <h3>
          Procedures
        </h3>
        <p>
          The <code>addRecording</code> method when invoked MUST run
          the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a recording request to the TV/Radio recording scheduler
          according to the <code>options</code> parameter.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Let <var>recording</var> be the newly-created
              <a>TVRecording</a> object.
              </li>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> with
              <em>recording</em> as the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
        <p>
          The <code>removeRecording</code> method when invoked MUST
          run the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to the TV/Radio device to remove the given record.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> without assigning
              a value to the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
        <p>
          The <code>getRecordings</code> method when invoked MUST
          run the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to the recording scheduler to retrieve the
          available TV/Radio recordings according to the <code>options</code>
          parameter.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Let <var>recordings</var> be the array of the retrieved
              <a>TVRecording</a> elements.
              </li>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> with
              <em>recordings</em> as the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
        <p>
          The <code>setParentalControlPin</code> method when invoked
          MUST run the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to set the new PIN for parental control according
          to the <code>newPin</code> parameter.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> without assigning
              a value to the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
        <p>
          The <code>setParentalControl</code> method when invoked
          MUST run the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to set the new status for parental control
          according to the <code>isLocked</code> parameter.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> without assigning
              a value to the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
        <p>
          The <code>getCICards</code> method when invoked MUST run
          the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to the TV device to retrieve all the CI (Common
          Interface) cards that are available in the TV device.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Let <var>cicards</var> be the array of the retrieved
              <a>TVCICard</a> elements.
              </li>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> with
              <em>cicards</em> as the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
      </section>
      <section>
        <h3>
          Event handlers
        </h3>
        <p>
          The following are the <a class="internalDFN" href=
          "#dfn-eventhandler">event handlers</a> (and their corresponding
          <a class="internalDFN" href="#dfn-eventtypes">event types</a>) that
          MUST be supported as attributes by the <a>TVManager</a> object.
        </p>
        <table class="simple">
          <thead>
            <tr>
              <th>
                Event handler
              </th>
              <th>
                Event name
              </th>
              <th>
                Event type
              </th>
              <th>
                Short description
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <strong><code>ontunerchange</code></strong>
              </td>
              <td>
                <code><dfn id=
                "dfn-tunerchange-event">tunerchange</dfn></code>
              </td>
              <td>
                <a><code>TVTunerChangeEvent</code></a>
              </td>
              <td>
                Handles the information of the TV/Radio tuner that is
                added/removed by the device.
              </td>
            </tr>
            <tr>
              <td>
                <strong><code>onrecordingchange</code></strong>
              </td>
              <td>
                <code><dfn id=
                "dfn-recordingchange-event">recordingchange</dfn></code>
              </td>
              <td>
                <a><code>TVRecordingChangeEvent</code></a>
              </td>
              <td>
                Handles the information of the updates for TV/Radio recordings.
              </td>
            </tr>
            <tr>
              <td>
                <strong><code>onparentalcontrolchange</code></strong>
              </td>
              <td>
                <code><dfn id=
                "dfn-parentalcontrolchange-event">parentalcontrolchange</dfn></code>
              </td>
              <td>
                <a><code>Event</code></a>
              </td>
              <td>
                Handles the information of the status changes for parental
                control.
              </td>
            </tr>
            <tr>
              <td>
                <strong><code>oncicardchange</code></strong>
              </td>
              <td>
                <code><dfn id=
                "dfn-cicardchange-event">cicardchange</dfn></code>
              </td>
              <td>
                <a><code>TVCICardChangeEvent</code></a>
              </td>
              <td>
                Handles the information of the status changes of the TV CI
                (Common Interface) card in the TV device.
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface TVSource  - - - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVSource</dfn></a> Interface
      </h2>
      <p>
        The <a>TVSource</a> interface represents a logical source of TV/Radio 
		channels. This may represent a physical tuner or a "virtual" tuner 
		for channels delivered via IP. The <a>TVSource</a> exposes the list 
		of <a>TVChannel</a> objects available through that source. For 
		devices with more than one type of tuner (e.g. cable and
		terrestrial), each tuner type may be represented by a different
		<a>TVSource</a>.
      </p>
      <pre class="idl">interface TVSource : EventTarget {
    TVSourceConstraints             getConstraints ();
    TVSourceSettings                getSettings ();
	
    Promise&lt;sequence&lt;TVChannel&gt;&gt; getChannels ();
    Promise&lt;TVMediaStream&gt;             tuneToChannel (TVChannel channel);
    Promise&lt;TVMediaStream&gt;             tuneTo (DOMString tuningParams);
	
    Promise&lt;void&gt;                startScanning (optional TVStartScanningOptions options);
    Promise&lt;void&gt;                stopScanning ();
    readonly        attribute TVSourceType   type;
    readonly        attribute TVMediaStream? stream;
    readonly        attribute boolean        isScanning;
    readonly        attribute TVChannel?     currentChannel;
                    attribute EventHandler   oncurrentchannelchange;
                    attribute EventHandler   oneitbroadcast;
                    attribute EventHandler   onemergencyalert;
                    attribute EventHandler   onscanningstatechange;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVSource" data-link-for=
        "TVSource">
          <dt>
            <dfn><code>type</code></dfn> of type <span class=
            "idlAttrType"><a>TVSourceType</a></span>, readonly
          </dt>
          <dd>
            MUST return the type of the TV/Radio source.
          </dd>
          <dt>
            <dfn><code>stream</code></dfn> of type <span class=
            "idlAttrType"><a>TVMediaStream</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return a <code><a>TVMediaStream</a></code> object extended
            from <code><a>MediaStream</a></code> and currently streamed by the
            source, which can be played by the <code><a>video</a></code>
            element by assigning the <code><a>TVMediaStream</a></code>
            (<code><a>MediaStream</a></code>) to the
            <code><a>HTMLMediaElement</a></code>'s <code>srcObject</code>
            attribute and can be recorded by the
            <code><a>MediaRecorder</a></code>.<br>
            MUST return <em>null</em> if the source is not streaming any
            data, which happens when the streaming signal is broken or due to
            any reason that makes the TV source fail to do so.<br>
            Note that the stream instance should be the same even after the
            current selected TV channel has been changed.
          </dd>
          <dt>
            <dfn><code>isScanning</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>, readonly
          </dt>
          <dd>
            MUST indicate whether the source is scanning the TV/Radio channels
            or not.
          </dd>
          <dt>
            <dfn><code>currentChannel</code></dfn> of type <span class=
            "idlAttrType"><a>TVChannel</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the channel that is currently streamed by the TV/Radio
            tuner which owns the source. MUST return <em>null</em> if the
            TV/Radio tuner is not streaming any data.
          </dd>
          <dt>
            <dfn><code>oncurrentchannelchange</code></dfn> of type
            <span class="idlAttrType"><a>EventHandler</a></span>
          </dt>
          <dd>
            Handles the <code>currentchannelchange</code> event of type
            <a>TVCurrentChannelChangeEvent</a>, fired when the method
            <code>tuneTo</code> or 
			<code>tuneToChannel</code> is invoked to tune the
            currently streamed TV/Radio channel.
          </dd>
          <dt>
            <dfn><code>oneitbroadcast</code></dfn> of type <span class=
            "idlAttrType"><a>EventHandler</a></span>
          </dt>
          <dd>
            Handles the <code>eitbroadcast</code> event of type
            <a>TVEITBroadcastEvent</a>, fired when the Event Information
            Table (EIT) is broadcast by the TV source.
          </dd>
          <dt>
            <dfn><code>onemergencyalert</code></dfn> of type <span class=
            "idlAttrType"><a>EventHandler</a></span>
          </dt>
          <dd>
            Handles the <code>emergencyalert</code> event of type
            <a>TVEmergencyAlertEvent</a>, fired when an emergency, such as
            earthquake or tsunami, occurs and is broadcast by the TV/Radio
            source.
          </dd>
          <dt>
            <dfn><code>onscanningstatechange</code></dfn> of type <span class=
            "idlAttrType"><a>EventHandler</a></span>
          </dt>
          <dd>
            Handles the <code>scanningstatechange</code> event of type
            <a>TVScanningStateChangeEvent</a>, fired when the state of
            scanning the TV/Radio channels is changed by the source. E.g., it
            can be fired when the method <a><code>startScanning</code></a> or
            the method <a><code>stopScanning</code></a> starts or stops
            scanning the TV/Radio channels, or when a channel is found during
            the channel scan.
          </dd>
        </dl>
      </section>
      <section>
        <h2>
          Methods
        </h2>
        <dl class="methods" data-dfn-for="TVSource" data-link-for="TVSource">
          <dt>
            <dfn><code>getConstraints</code></dfn>
          </dt>
          <dd>
            See ConstrainablePattern Interface for the definition of this method.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em>
              <code><a>TVSourceConstraints</a></code>
            </div>
          </dd>
          <dt>
            <dfn><code>getSettings</code></dfn>
          </dt>
          <dd>
            See ConstrainablePattern Interface for the definition of this method.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em>
              <code><a>TVSourceSettings</a></code>
            </div>
          </dd>
          <dt>
            <dfn><code>getChannels</code></dfn>
          </dt>
          <dd>
            This method makes a request to retrieve all the TV/Radio channels
            that are available in the source. It returns a new
            <code><a>Promise</a></code> that will be used to notify the caller
            about the result of the operation, which is an array of
            <a>TVChannel</a> elements that belong to the source. And if
            parental control is enabled, the array of <a>TVChannel</a> elements
            should exclude the locked channels. Note that the
            <code><a>Promise</a></code> may be rejected with an
            <code>InvalidStateError</code> if this method gets called during
            channel scanning.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em>
              <code>Promise&lt;sequence&lt;TVChannel&gt;&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>tuneToChannel</code></dfn>
          </dt>
          <dd>
            This method makes a request to tune to the TV/Radio channel 
            specified by the <code>channel</code> parameter. It returns a
            new <code><a>Promise</a></code> that will be used to notify the
            caller about the result of the operation. Note that the
            <code><a>Promise</a></code> may be rejected with an
            <code>InvalidStateError</code> if this method is called during
            channel scanning, or be rejected with an
            <code>InvalidAccessError</code> if parental control is enabled and
            the channel is locked.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    channel
                  </td>
                  <td class="prmType">
                    <code>TVChannel</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the TV/Radio channel to be tuned to.
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em> <code>Promise&lt;TVMediaStream&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>tuneTo</code></dfn>
          </dt>
          <dd>
            This method makes a request to tune to the TV/Radio channel
            specified by the <code>tuningParams</code> parameter. It returns a
            new <code><a>Promise</a></code> that will be used to notify the
            caller about the result of the operation. Note that the
            <code><a>Promise</a></code> may be rejected with an
            <code>InvalidStateError</code> if this method is called during
            channel scanning, or be rejected with an
            <code>InvalidAccessError</code> if parental control is enabled and
            the channel is locked.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    tuningParams
                  </td>
                  <td class="prmType">
                    <code>DOMString</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the tuning parameters of the TV/Radio channel to be tuned to.
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em> <code>Promise&lt;TVMediaStream&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>startScanning</code></dfn>
          </dt>
          <dd>
            This method makes a request to start scanning all the TV/Radio
            channels that are available in the source by the
            <code>options</code> parameter. It returns a new
            <code><a>Promise</a></code> that will be used to notify the caller
            about the result of the operation. Note that this method has to be
            called first at some setup stages, so that the method
            <a><code>getChannels</code></a> can retrieve the channels that have
            successfully been scanned by the source. Besides, due to some
            constraints of tuner modules, scanning and streaming are not
            encouraged to run at the same time.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    options
                  </td>
                  <td class="prmType">
                    <code>TVStartScanningOptions</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptTrue">
                    <span role="img" aria-label="True">✔</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the options for scanning the TV/Radio channels.
                    The <code>isRescanned</code> option in the
                    <code>options</code> parameter specifies whether or not the
                    process of scanning the TV/Radio channels has to clear the
                    currently scanned TV/Radio channels before scanning; if it
                    is not passed, this method will rescan all the TV/Radio
                    channels as if it is passed as <code>true</code>.
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em> <code>Promise&lt;void&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>stopScanning</code></dfn>
          </dt>
          <dd>
            This method makes a request to stop scanning the TV/Radio channels
            for the source. It returns a new <code><a>Promise</a></code> that
            will be used to notify the caller about the result of the
            operation.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em> <code>Promise&lt;void&gt;</code>
            </div>
          </dd>
        </dl>
      </section>
      <section>
        <h3>
          Procedures
        </h3>
        <p>
          The <code>getChannels</code> method when invoked MUST run
          the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to the source to retrieve all the TV/Radio
          channels that are available in the source.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Let <var>channels</var> be the array of the retrieved
              <a>TVChannel</a> elements.
              </li>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> with
              <em>channels</em> as the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
        <p>
          The <code>tuneToChannel</code> method when invoked
          MUST run the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to the source to tune the currently streamed
          TV/Radio channel according to the <code>channel</code>
          parameter.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Let <var>stream</var> an instance of a TVMediaStream 
			  representing the media data of the specified channel.
              </li>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> with
              <em>stream</em> as the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
        <p>
          The <code>tuneTo</code> method when invoked
          MUST run the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to the source to tune the currently streamed
          TV/Radio channel according to the <code>tuningParams</code>
          parameter.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Let <var>stream</var> an instance of a TVMediaStream 
			  representing the media data of the channel found at the 
			  specified tuning parameters.
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> with
              <em>stream</em> as the <code>value</code> argument.
              </li>
            </ol>
          </li>
          The <code>startScanning</code> method when invoked MUST
        </ol>        <p>
          run the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to the source to start scanning all the TV/Radio
          channels that are available in the source according to the scanning
          options specified in the <code>options</code> parameter. If the
          <code>isRescanned</code> option in the <code>options</code> parameter
          is not passed or it is passed as <code>true</code>, the <a class=
          "internalDFN" href="#dfn-user-agent">user agent</a> MUST clear the
          currently scanned TV/Radio channels before scanning; if it is passed
          as <code>false</code>, the <a class="internalDFN" href=
          "#dfn-user-agent">user agent</a> will simply scan additional TV/Radio
          channels which haven't been scanned yet.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> without assigning
              a value to the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
        <p>
          The <code>stopScanning</code> method when invoked MUST run
          the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to the source to stop scanning the TV/Radio
          channels.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> without assigning
              a value to the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
      </section>
      <section>
        <h3>
          Event handlers
        </h3>
        <p>
          The following are the <a class="internalDFN" href=
          "#dfn-eventhandler">event handlers</a> (and their corresponding
          <a class="internalDFN" href="#dfn-eventtypes">event types</a>) that
          MUST be supported as attributes by the <a>TVSource</a> object.
        </p>
        <table class="simple">
          <thead>
            <tr>
              <th>
                Event handler
              </th>
              <th>
                Event name
              </th>
              <th>
                Event type
              </th>
              <th>
                Short description
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <strong><code>oncurrentchannelchange</code></strong>
              </td>
              <td>
                <code><dfn id=
                "dfn-currentchannelchange-event">currentchannelchange</dfn></code>
              </td>
              <td>
                <a><code>TVCurrentChannelChangeEvent</code></a>
              </td>
              <td>
                Handles the information of the currently streamed TV/Radio
                channel that is tuned by the method
                <code>tuneTo</code> or <code>tuneToChannel</code>.
              </td>
            </tr>
            <tr>
              <td>
                <strong><code>oneitbroadcast</code></strong>
              </td>
              <td>
                <code><dfn id=
                "dfn-eitbroadcast-event">eitbroadcast</dfn></code>
              </td>
              <td>
                <a><code>TVEITBroadcastEvent</code></a>
              </td>
              <td>
                Handles the information of the available TV programs in the EIT
                that is broadcast by the TV source.
              </td>
            </tr>
            <tr>
              <td>
                <strong><code>onemergencyalert</code></strong>
              </td>
              <td>
                <code><dfn id=
                "dfn-emergencyalert-event">emergencyalert</dfn></code>
              </td>
              <td>
                <a><code>TVEmergencyAlertEvent</code></a>
              </td>
              <td>
                Handles the information of the emergency alert when an
                emergency, such as earthquake or tsunami, occurs and is
                broadcast by the TV/Radio source.
              </td>
            </tr>
            <tr>
              <td>
                <strong><code>onscanningstatechange</code></strong>
              </td>
              <td>
                <code><dfn id=
                "dfn-scanningstatechange-event">scanningstatechange</dfn></code>
              </td>
              <td>
                <a><code>TVScanningStateChangeEvent</code></a>
              </td>
              <td>
                Handles the information of the state of scanning the TV/Radio
                channels, which is changed by the source.
              </td>
            </tr>
          </tbody>
        </table>
      </section>

    <!-- - - - - - - - - - - - Dictionary TVSourceSupportedConstraints - - - - - - - - - - - - -->
        <section>
      <h2>
        <a><dfn>TVSourceSupportedConstraints</dfn></a> Dictionary
      </h2>
      <p>
        <a>TVSourceSupportedConstraints</a> represents the list of constraints 
		recognized by a User Agent for controlling the Capabilities of a 
		<a>TVSource</a> object. This dictionary is used as a function return 
		value, and never as an operation argument.
		

      </p>
      <pre class="idl">dictionary TVSourceSupportedConstraints {
	  boolean deliverySystem = true;
	  boolean height = true;
	  boolean channel = true;
	  boolean tuningStep = true;

};</pre>
      <section id="dictionary-tvsourcesupportedconstraints-members">
        <h2>
          Dictionary <a>TVSourceSupportedConstraints</a> Members
        </h2>
        <dl class="dictionary-members" data-dfn-for="TVSourceSupportedConstraints" data-link-for=
        "TVSourceSupportedConstraints">
          <dt>
            <dfn><code>deliverySystem</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>  defaulting to <code>true</code>
          </dt>
          <dd>
            See <a href="def-constraint-deliverySystem">deliverySystem</a> for details.
          </dd>
          <dt>
            <dfn><code>height</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>  defaulting to <code>true</code>
          </dt>
          <dd>
            See <a href="#def-constraint-height">height</a> for details.
          </dd>
          <dt>
            <dfn><code>channel</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>  defaulting to <code>true</code>
          </dt>
          <dd>
            See <a href="#def-constraint-channel">channel</a> for details.
          </dd>
          <dt>
            <dfn><code>tuningStep</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>  defaulting to <code>true</code>
          </dt>
          <dd>
            See <a href="#def-constraint-tuningStep">tuningStep</a> for details.
          </dd>

        </dl>
      </section>
	      </section>
    <!-- - - - - - - - - - - - Dictionary TVSourceCapabilities - - - - - - - - - - - - -->
	  <section>
      <h2>
        <a><dfn>TVSourceCapabilities</dfn></a> Dictionary
      </h2>
      <p>
        <a>TVSourceCapabilities</a> represents the capabilities of a <a>TVSource</a> object
      </p>
      <pre class="idl">dictionary TVSourceCapabilities {
    sequence &lt;TVSourceType&gt; deliverySystem;
	long     height;
    long     tuningStep;
};</pre>
      <section id="dictionary-tvsourcecapabilities-members">
        <h2>
          Dictionary <a>TVSourceCapabilities</a> Members
        </h2>
        <dl class="dictionary-members" data-dfn-for="TVSourceCapabilities" data-link-for=
        "TVSourceCapabilities">
          <dt>
            <dfn><code>deliverySystem</code></dfn> of type <span class=
            "idlAttrType"><a>sequence &lt;TVSourceType&gt;</a></span>
          </dt>
          <dd>
            See <a href="def-constraint-deliverySystem">deliverySystem</a> for details. If the device supports multiple delivery systems then the capabilities will consist of a sequence of entries. The order of entries in the sequence is implementation-dependent.
          </dd>
          <dt>
            <dfn><code>height</code></dfn> of type <span class=
            "idlAttrType"><a>long</a></span>
          </dt>
          <dd>
            See <a href="#def-constraint-height">height</a> for details.
          </dd>
          <dt>
            <dfn><code>tuningStep</code></dfn> of type <span class=
            "idlAttrType"><a>long</a></span>
          </dt>
          <dd>
            See <a href="#def-constraint-tuningStep">tuningStep</a> for details.
          </dd>

        </dl>
      </section>
	      </section>
    <!-- - - - - - - - - - - - Dictionary TVSourceConstraints - - - - - - - - - - - - -->
        <section>
      <h2>
        <a><dfn>TVSourceConstraints</dfn></a> Dictionary
      </h2>
      <p>
        <a>TVSourceConstraints</a> represents the list of constraints 
		recognized by a User Agent for controlling the Capabilities of a 
		<a>TVSource</a> object. This dictionary is used as a function return 
		value, and never as an operation argument.
		

      </p>
      <pre class="idl">dictionary TVSourceConstraints {
	  sequence&lt;TVSourceType&gt; deliverySystem;
	  ConstrainLong height;
	  TVChannel channel;
	  ConstrainLong tuningStep;

};</pre>
      <section id="dictionary-tvsourceconstraints-members">
        <h2>
          Dictionary <a>TVSourceConstraints</a> Members
        </h2>
        <dl class="dictionary-members" data-dfn-for="TVSourceConstraints" data-link-for=
        "TVSourceConstraints">
          <dt>
            <dfn><code>deliverySystem</code></dfn> of type <span class=
            "idlAttrType"><a>sequence &lt;TVSourceType&gt;</a></span>
          </dt>
          <dd>
            See <a href="def-constraint-deliverySystem">deliverySystem</a> for details.
          </dd>
          <dt>
            <dfn><code>height</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>  defaulting to <code>true</code>
          </dt>
          <dd>
            See <a href="#def-constraint-height">height</a> for details.
          </dd>
          <dt>
            <dfn><code>channel</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>  defaulting to <code>true</code>
          </dt>
          <dd>
            See <a href="#def-constraint-channel">channel</a> for details.
          </dd>
          <dt>
            <dfn><code>tuningStep</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>  defaulting to <code>true</code>
          </dt>
          <dd>
            See <a href="#def-constraint-tuningStep">tuningStep</a> for details.
          </dd>

        </dl>
      </section>
	      </section>
    <!-- - - - - - - - - - - - Dictionary TVSourceSettings - - - - - - - - - - - - -->
        <section>
      <h2>
        <a><dfn>TVSourceSettings</dfn></a> Dictionary
      </h2>
      <p>
        <a>TVSourceSettings</a> represents the Settings of a 
		<a>TVSource</a> object. 
		
      </p>
      <pre class="idl">dictionary TVSourceSettings {
	  sequence &lt;TVSourceType&gt; deliverySystem;
	  ConstrainLong height;
	  TVChannel channel;
	  ConstrainLong tuningStep;

};</pre>
      <section id="dictionary-tvsourcesettings-members">
        <h2>
          Dictionary <a>TVSourceSettings</a> Members
        </h2>
        <dl class="dictionary-members" data-dfn-for="TVSourceSettings" data-link-for=
        "TVSourceCSettings">
          <dt>
            <dfn><code>deliverySystem</code></dfn> of type <span class=
            "idlAttrType"><a>sequence &lt;TVSourceType&gt;</a></span>
          </dt>
          <dd>
            See <a href="def-constraint-deliverySystem">deliverySystem</a> for details.
          </dd>
          <dt>
            <dfn><code>height</code></dfn> of type <span class=
            "idlAttrType"><a>long</a></span>
          </dt>
          <dd>
            See <a href="#def-constraint-height">height</a> for details.
          </dd>
          <dt>
            <dfn><code>channel</code></dfn> of type <span class=
            "idlAttrType"><a>TVChannel</a></span>
          </dt>
          <dd>
            See <a href="#def-constraint-channel">channel</a> for details.
          </dd>
          <dt>
            <dfn><code>tuningStep</code></dfn> of type <span class=
            "idlAttrType"><a>long</a></span>
          </dt>
          <dd>
            See <a href="#def-constraint-tuningStep">tuningStep</a> for details.
          </dd>
        </dl>
      </section>
	      </section>
	  <section id="constrainable-properties" typeof="bibo:Chapter" resource="#constrainable-properties" property="bibo:hasPart">
        <h3 id="h-constrainable-properties" resource="#h-constrainable-properties">Constrainable Properties</h3>
        <p>The names of the initial set of constrainable properties for
        TVSource are defined below.</p>

        <table class="simple">
          <thead>
            <tr>
              <th>Property Name</th>
              <th>Values</th>
              <th>Notes</th>
            </tr>
          </thead>
          <tbody>
            <tr id="def-constraint-deliverySystem">
              <td><dfn data-dfn-type="dfn" id="dfn-deliverySystem">deliverySystem</dfn></td>
              <td><code><a href="#idl-def-TVSourceType" class="idlType"><code>sequence &lt;TVSourceType&gt;</code></a></code></td>
              <td>The delivery system or systems that must be supported.</td>
            </tr>
            <tr id="def-constraint-height">
              <td><dfn data-dfn-type="dfn" id="dfn-height">height</dfn></td>
              <td><code><a href="#idl-def-ConstrainLong" class="idlType"><code>ConstrainLong</code></a></code></td>
              <td>The height or height range, in pixels. As a capability, the
              range should span the video source's pre-set height values with
              min being the smallest height and max being the largest
              height.</td>
            </tr>
            <tr id="def-constraint-channel">
              <td><dfn data-dfn-type="dfn" id="dfn-channel">channel</dfn></td>
              <td><code><a href="#idl-def-TVChannel" class="idlType"><code>TVChannel</code></a></code></td>
              <td>A channel that must be able to be received and decoded by the source.</td>
            </tr>
          </tbody>
        </table>
              <div>
        <pre class="idl">enum <dfn>TVSourceType</dfn> {
    "dvb-t",
    "dvb-t2",
    "dvb-c",
    "dvb-c2",
    "dvb-s",
    "dvb-s2",
    "dvb-h",
    "dvb-sh",
    "atsc",
    "atsc-m/h",
    "isdb-t",
    "isdb-tb",
    "isdb-s",
    "isdb-c",
    "1seg",
    "dtmb",
    "cmmb",
    "t-dmb",
    "s-dmb",
    "dab",
    "drm",
    "fm",
    "AM"
};</pre>
        <table class="simple" data-dfn-for="TVSourceType" data-link-for=
        "TVSourceType">
          <tbody>
            <tr>
              <th colspan="2">
                Enumeration description
              </th>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.dvb-t">dvb-t</code></dfn>
              </td>
              <td>
                The source works for DVB-T (terrestrial).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.dvb-t2">dvb-t2</code></dfn>
              </td>
              <td>
                The source works for DVB-T2 (terrestrial).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.dvb-c">dvb-c</code></dfn>
              </td>
              <td>
                The source works for DVB-C (cable).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.dvb-c2">dvb-c2</code></dfn>
              </td>
              <td>
                The source works for DVB-C2 (cable).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.dvb-s">dvb-s</code></dfn>
              </td>
              <td>
                The source works for DVB-S (satellite).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.dvb-s2">dvb-s2</code></dfn>
              </td>
              <td>
                The source works for DVB-S2 (satellite).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.dvb-h">dvb-h</code></dfn>
              </td>
              <td>
                The source works for DVB-H (handheld).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.dvb-sh">dvb-sh</code></dfn>
              </td>
              <td>
                The source works for DVB-SH (satellite).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.atsc">atsc</code></dfn>
              </td>
              <td>
                The source works for ATSC (terrestrial/cable).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVSourceType.atsc-m-h">atsc-m/h</code></dfn>
              </td>
              <td>
                The source works for ATSC-M/H (mobile/handheld).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.isdb-t">isdb-t</code></dfn>
              </td>
              <td>
                The source works for ISDB-T (terrestrial).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVSourceType.isdb-tb">isdb-tb</code></dfn>
              </td>
              <td>
                The source works for ISDB-Tb (terrestrial, Brazil).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.isdb-s">isdb-s</code></dfn>
              </td>
              <td>
                The source works for ISDB-S (satellite).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.isdb-c">isdb-c</code></dfn>
              </td>
              <td>
                The source works for ISDB-C (cable).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.x1seg">1seg</code></dfn>
              </td>
              <td>
                The source works for 1seg (handheld).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.dtmb">dtmb</code></dfn>
              </td>
              <td>
                The source works for DTMB (terrestrial).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.cmmb">cmmb</code></dfn>
              </td>
              <td>
                The source works for CMMB (handheld).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.t-dmb">t-dmb</code></dfn>
              </td>
              <td>
                The source works for T-DMB (terrestrial).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.s-dmb">s-dmb</code></dfn>
              </td>
              <td>
                The source works for S-DMB (satellite).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.dab">dab</code></dfn>
              </td>
              <td>
                The source works for DAB (terrestrial).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.drm">drm</code></dfn>
              </td>
              <td>
                The source works for DRM (terrestrial).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.fm">fm</code></dfn>
              </td>
              <td>
                The source works for FM (terrestrial).
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVSourceType.AM">AM</code></dfn>
              </td>
              <td>
                The source works for AM (terrestrial).
              </td>
            </tr>
          </tbody>
        </table>
      </div>
        <p>The following constrainable properties are defined to apply only to
        radio <code><a href="#idl-def-TVSource" class="idlType"><code>TVSource</code></a></code> objects:</p>
        <table class="simple">
          <thead>
            <tr>
              <th>Property Name</th>
              <th>Values</th>
              <th>Notes</th>
            </tr>
          </thead>
          <tbody>
            <tr id="def-constraint-tuningStep">
              <td><dfn data-dfn-type="dfn" id="dfn-tuningstep">tuningStep</dfn></td>
              <td><code><a href="#idl-def-ConstrainLong" class="idlType"><code>ConstrainLong</code></a></code></td>
              <td>The exact tuning step size (in KHz) supported by the tuner.
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface TVChannel  - - - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVChannel</dfn></a> Interface
      </h2>
      <p>
        The <a>TVChannel</a> interface represents a single TV or radio channel 
		and provides metadata about it. Each <a>TVChannel</a> object represents
		a single channel that is available through one <a>TVSource</a>, for 
		instance a DVB Service or ATSC Virtual Channel. If the same channel is
		available through two different sources (e.g. over cable and 
		terrestrial) then each <a>TVSource</a> will return a different
		<a>TVChannel</a> object.
      </p>
      <pre class="idl">interface TVChannel: EventTarget {
    Promise&lt;sequence&lt;TVProgram&gt;&gt;     getPrograms (optional TVGetProgramsOptions options);
    Promise&lt;TVProgram&gt;               getCurrentProgram ();
    Promise&lt;sequence&lt;TVApplication&gt;&gt; getApplications ();
    Promise&lt;void&gt;                    setParentalLock (DOMString pin, boolean isLocked);
    readonly        attribute TVSource            source;
    readonly        attribute TVChannelType       type;
    readonly        attribute TVChannelAttributes attributes;
    readonly        attribute DOMString           name;
    readonly        attribute DOMString           number;
    readonly        attribute boolean             isEmergency;
    readonly        attribute boolean             isEncrypted;
    readonly        attribute DOMString?          casSystemId;
    readonly        attribute boolean             isParentalLocked;
                    attribute EventHandler        onparentallockchange;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVChannel" data-link-for=
        "TVChannel">
          <dt>
            <dfn><code>source</code></dfn> of type <span class=
            "idlAttrType"><a>TVSource</a></span>, readonly
          </dt>
          <dd>
            MUST return the source which the TV/Radio channel belongs to.
          </dd>
          <dt>
            <dfn><code>type</code></dfn> of type <span class=
            "idlAttrType"><a>TVChannelType</a></span>, readonly
          </dt>
          <dd>
            MUST return the type of the channel.
          </dd>
          <dt>
            <dfn><code>attributes</code></dfn> of type <span class=
            "idlAttrType"><a>TVChannelAttributes</a></span>, readonly
          </dt>
          <dd>
            MUST return TVChannelAttributes belonging to this TV/Radio channel.
            <code>"NHK"</code>, etc.
          </dd>
          <dt>
            <dfn><code>name</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the name of the TV/Radio channel. E.g.,
            <code>"CNN"</code>, <code>"NHK"</code>, etc.
          </dd>
          <dt>
            <dfn><code>number</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the Logical Channel Number (LCN) of the TV/Radio
            channel. E.g., <code>"12-1"</code>, <code>"12-2"</code>, etc.
          </dd>
          <dt>
            <dfn><code>isEmergency</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>, readonly
          </dt>
          <dd>
            MUST indicate whether the TV/Radio channel is for the emergency
            purpose.
          </dd>
          <dt>
            <dfn><code>isEncrypted</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>, readonly
          </dt>
          <dd>
            MUST indicate whether the TV/Radio channel is encrypted.
          </dd>
          <dt>
            <dfn><code>casSystemId</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the system ID if it requires to use a specific CAS
            (Conditional Access System) to decrypt the stream from the
            encrypted TV/Radio channel.
          </dd>
          <dt>
            <dfn><code>isParentalLocked</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>, readonly
          </dt>
          <dd>
            MUST indicate whether the TV/Radio channel is locked for parental
            control.
          </dd>
          <dt>
            <dfn><code>onparentallockchange</code></dfn> of type <span class=
            "idlAttrType"><a>EventHandler</a></span>
          </dt>
          <dd>
            Handles the <code>parentallockchange</code> event, fired when the
            parental lock status of the TV/Radio channel is changed.
          </dd>
        </dl>
      </section>
      <section>
        <h2>
          Methods
        </h2>
        <dl class="methods" data-dfn-for="TVChannel" data-link-for="TVChannel">
          <dt>
            <dfn><code>getPrograms</code></dfn>
          </dt>
          <dd>
            This method makes a request to retrieve all the TV/Radio programs
            that are available in the channel by the <code>options</code>
            parameter. It returns a new <code><a>Promise</a></code> that will
            be used to notify the caller about the result of the operation,
            which is an array of <a>TVProgram</a> elements that belong to the
            TV/Radio channel.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    options
                  </td>
                  <td class="prmType">
                    <code>TVGetProgramsOptions</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptTrue">
                    <span role="img" aria-label="True">✔</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the options for retrieving the TV/Radio programs.
                    If this parameter is not passed, this method will return
                    all the available TV/Radio programs.
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em>
              <code>Promise&lt;sequence&lt;TVProgram&gt;&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>getCurrentProgram</code></dfn>
          </dt>
          <dd>
            This method makes a request to retrieve the current TV/Radio
            program available in the channel. It returns a new
            <code><a>Promise</a></code> that will be used to notify the caller
            about the result of the operation, which is a <a>TVProgram</a>
            element that belongs to the channel.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em> <code>Promise&lt;TVProgram&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>getApplications</code></dfn>
          </dt>
          <dd>
            This method makes a request to retrieve all the TV/Radio
            applications that are available in the channel. It returns a new
            <code><a>Promise</a></code> that will be used to notify the caller
            about the result of the operation, which is an array of
            <a>TVApplication</a> elements that belong to the TV/Radio channel.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em>
              <code>Promise&lt;sequence&lt;TVApplication&gt;&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>setParentalLock</code></dfn>
          </dt>
          <dd>
            This method makes a request to set the parental lock status for the
            channel. It returns a new <code>Promise</code> that will be used to
            notify the caller about the result of the operation.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    pin
                  </td>
                  <td class="prmType">
                    <code>DOMString</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the PIN used for parental control.
                  </td>
                </tr>
                <tr>
                  <td class="prmName">
                    isLocked
                  </td>
                  <td class="prmType">
                    <code>boolean</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    Specifies the parental lock status for the channel.
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em> <code>Promise&lt;void&gt;</code>
            </div>
          </dd>
        </dl>
      </section>
      <section>
        <h3>
          Procedures
        </h3>
        <p>
          The <dfn><code>getPrograms</code></dfn> method when invoked MUST run
          the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to the channel to retrieve all the TV/Radio
          programs that are available in the channel according to the
          retrieving options specified in the <code>options</code> parameter.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Let <var>programs</var> be the array of the retrieved
              <a>TVProgram</a> elements.
              </li>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> with
              <em>programs</em> as the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
        <p>
          The <dfn><code>getCurrentProgram</code></dfn> method when invoked
          MUST run the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to the channel to retrieve the current TV/Radio
          program available in the channel.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Let <var>program</var> be the retrieved <a>TVProgram</a>
              element.
              </li>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> with
              <em>program</em> as the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
        <p>
          The <dfn><code>setParentalLock</code></dfn> method when invoked MUST
          run the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to set the new parental lock status for this
          channel according to the <code>isLocked</code> parameter.
          </li>
          <li>If the <code>pin</code> parameter does not match the current PIN
          or an <var>error</var> occurs invoke <em>resolver</em>'s <a class=
          "internalDFN" href="#dfn-reject-algorithm">reject algorithm</a> with
          <em>error</em> as the <code>value</code> argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> without assigning
              a value to the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
      </section>
      <section>
        <h2>
          Event handlers
        </h2>
        <p>
          The following are the <a class="internalDFN" href=
          "#dfn-eventhandler">event handlers</a> (and their corresponding
          <a class="internalDFN" href="#dfn-eventtypes">event types</a>) that
          MUST be supported as attributes by the <a>TVChannel</a> object.
        </p>
        <table class="simple">
          <thead>
            <tr>
              <th>
                Event handler
              </th>
              <th>
                Event name
              </th>
              <th>
                Event type
              </th>
              <th>
                Short description
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <strong><code>onparentallockchange</code></strong>
              </td>
              <td>
                <code><dfn id=
                "dfn-parentallockchange-event">parentallockchange</dfn></code>
              </td>
              <td>
                <a><code>Event</code></a>
              </td>
              <td>
                Handles the information of the parental control status change
                for the TV/Radio channel.
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>
    <p class="ednote">
      In general the current API design is agnostic towards the supported
      underlying transmission and systems technology. Just the
      <a>TVSourceType</a> enumeration refers to specific technology. However
      IMHO there must be a mechanism when it comes to returning technology
      specific data. The idea here is to introduce a general
      TVChannelAttributes structure which acts as a base interface, from which
      technology-dependent sub interfaces (in this proposal for DVB and DAB)
      are derived.
    </p>
    <!-- - - - - - - - - - - - Interface TVChannelAttributes  - - - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVChannelAttributes</dfn></a> Interface
      </h2>
      <p>
        The <a>TVChannelAttributes</a> interface represents a bunch of
        properties and a set of operations related to technology related
        functions of different TV/Radio transmission and system specifications.
        The <a>TVChannelAttributes</a> interface is the parent interface for a
        hierarchy of technology specific subinterfaces determined by
        <a>TVSource</a> and its <a>TVSourceType</a> properties.
      </p>
      <pre class="idl">interface TVChannelAttributes : EventTarget {
                    attribute EventHandler onattributeschange;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVChannelAttributes"
        data-link-for="TVChannelAttributes">
          <dt>
            <dfn><code>onattributeschange</code></dfn> of type <span class=
            "idlAttrType"><a>EventHandler</a></span>
          </dt>
          <dd>
            Handles the <code>onattributeschange</code> event, fired when the
            attributes of the TV/Radio channel are changed.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface TVDVBChannelAttributes  - - - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVDVBChannelAttributes</dfn></a> Interface
      </h2>
      <p>
        The <a>TVDVBChannelAttributes</a> interface represents DVB channel
        attributes
      </p>
      <pre class="idl">
        interface TVDVBChannelAttributes : TVChannelAttributes {
    readonly        attribute DOMString originalNetworkId;
    readonly        attribute DOMString networkId;
    readonly        attribute DOMString transportStreamId;
    readonly        attribute DOMString serviceId;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVDVBChannelAttributes"
        data-link-for="TVDVBChannelAttributes">
          <dt>
            <dfn><code>originalNetworkId</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the identification of the originating broadcast 
			transmission network for this channel. This is the 
			<code>networkID</code> of the operator that originated this 
			channel.
          </dd>
          <dt>
            <dfn><code>networkId</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the identification of a broadcast transmission network.
            On satellite and IP broadband, typically one <code>networkId</code>
            corresponds to an operator. On cable and terrestrial, where
            different radio frequencies might be used in different regions,
            operators typically use one <code>networkId</code> per such region.
          </dd>
          <dt>
            <dfn><code>transportStreamId</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the identification of a time-domain multiplex of
            several programmes carried in Transport Stream (TS) packets. One or
            more multiplexes can be transmitted on any given radio frequency in
            a DVB network.
          </dd>
          <dt>
            <dfn><code>serviceId</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the identification of a TV, radio or data programme
            within a TS multiplex. The number of programmes is limited by the
            capacity of the underlying physical channel.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface TVDABChannelAttributes  - - - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVDABChannelAttributes</dfn></a> Interface
      </h2>
      <p>
        The <a>TVDABChannelAttributes</a> interface represents DVB channel
        attributes
      </p>
      <pre class="idl">
        interface TVDABChannelAttributes : TVChannelAttributes {
    readonly        attribute DOMString ensembleId;
    readonly        attribute DOMString serviceId;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVDABChannelAttributes"
        data-link-for="TVDABChannelAttributes">
          <dt>
            <dfn><code>ensembleId</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the identification of a time-domain multiplex of
            several programmes carried in DAB ensemble.
          </dd>
          <dt>
            <dfn><code>serviceId</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the identification of aDAB radio or data service within
            a DAB ensemble. The number of programmes is limited by the capacity
            of the underlying physical channel.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface TVApplication  - - - - - - - - - - - - -->
    <p class="ednote">
      Should we introduce more specific application type interfaces here. e.g.
      for the DAB/DVB User applications (Slideshow, DL, Journaline, HbbTV,
      MHEG)? Or are we happy with just delivering the applicationData to the
      developers.
    </p>
    <section>
      <h2>
        <a><dfn>TVApplication</dfn></a> Interface
      </h2>
      <p>
        The <a>TVApplication</a> interface represents a bunch of properties and
        a set of operations related to technology related functions of
        different TV/Radio applications. The <a>TVApplication</a> interface can
        be the parent interface for a hierarchy of technology specific
        subinterfaces <a>TVApplicationType</a>
      </p>
      <pre class="idl">interface TVApplication : EventTarget {
    readonly        attribute TVApplicationType type;
    readonly        attribute object?           applicationData;
                    attribute EventHandler      onapplicationchange;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVApplication" data-link-for=
        "TVApplication">
          <dt>
            <dfn><code>type</code></dfn> of type <span class=
            "idlAttrType"><a>TVApplicationType</a></span>, readonly
          </dt>
          <dd>
            MUST return the type of associated application.
          </dd>
          <dt>
            <dfn><code>applicationData</code></dfn> of type <span class=
            "idlAttrType"><a>object</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return application specific data. Please note that the
            detailed syntax and semantic might vary between different
            broadcasting standards or only known by private agreements.
          </dd>
          <dt>
            <dfn><code>onapplicationchange</code></dfn> of type <span class=
            "idlAttrType"><a>EventHandler</a></span>
          </dt>
          <dd>
            Handles the <code>onapplicationchange</code> event, fired when the
            application of the TV/Radio channel is changed.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface TVProgram  - - - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVProgram</dfn></a> Interface
      </h2>
      <p>
        The <a>TVProgram</a> interface represents a set of properties and
        operations related to a TV/Radio program (e.g. a DVB or ATSC 
		Event). An instance of a <a>TVProgram</a> corresponds to one 
		showing of that program: if the same program is shown at two 
		different times or on different channels then each showing is
		represented by a different <a>TVProgram</a> instance.
      </p>
      <pre class="idl">interface TVProgram {
    sequence&lt;DOMString&gt; getAudioLanguages ();
    sequence&lt;DOMString&gt; getSubtitleLanguages ();
    sequence&lt;DOMString&gt; getGenres ();
    readonly        attribute DOMString    eventId;
    readonly        attribute TVChannel    channel;
    readonly        attribute DOMString    title;
    readonly        attribute DOMTimeStamp startTime;
    readonly        attribute DOMTimeStamp duration;
    readonly        attribute DOMString?   shortDescription;
    readonly        attribute DOMString?   longDescription;
    readonly        attribute DOMString?   parentalRating;
    readonly        attribute boolean      isEncrypted;
    readonly        attribute DOMString?   seriesId;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVProgram" data-link-for=
        "TVProgram">
          <dt>
            <dfn><code>eventId</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the event ID of the TV/Radio program. It has to be
            unique only within a TV/Radio channel.
          </dd>
          <dt>
            <dfn><code>channel</code></dfn> of type <span class=
            "idlAttrType"><a>TVChannel</a></span>, readonly
          </dt>
          <dd>
            MUST return the TV/Radio channel which the program belongs to.
          </dd>
          <dt>
            <dfn><code>title</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the title of the TV/Radio program.
          </dd>
          <dt>
            <dfn><code>startTime</code></dfn> of type <span class=
            "idlAttrType"><a>DOMTimeStamp</a></span>, readonly
          </dt>
          <dd>
            MUST return the start time of the TV/Radio
            program, in milliseconds relative to 1970-01-01T00:00:00Z.

          </dd>
          <dt>
            <dfn><code>duration</code></dfn> of type <span class=
            "idlAttrType"><a>DOMTimeStamp</a></span>, readonly
          </dt>
          <dd>
            MUST return the duration of the TV/Radio program, in milliseconds
            relative to 1970-01-01T00:00:00Z.
          </dd>
          <dt>
            <dfn><code>shortDescription</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the short description of the TV/Radio program.
          </dd>
          <dt>
            <dfn><code>longDescription</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the long description of the TV/Radio program.
          </dd>
          <dt>
            <dfn><code>parentalRating</code></dfn> of type <span class=

            "idlAttrType"><a>DOMString</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the parental rating of the TV/Radio program.
          </dd>
          <dt>
            <dfn><code>isEncrypted</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>, readonly
          </dt>
          <dd>
            MUST indicate whether the TV/Radio program is encrypted by
			      a content protection mechanism.
          </dd>
          <dt>
            <dfn><code>seriesId</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the ID of the series (if applicable) which the TV/Radio
            program belongs to.
          </dd>
        </dl>
      </section>
      <section>
        <h2>
          Methods
        </h2>
        <dl class="methods" data-dfn-for="TVProgram" data-link-for="TVProgram">
          <dt>
            <dfn><code>getAudioLanguages</code></dfn>
          </dt>
          <dd>
            MUST return the audio languages of the TV/Radio program in 3-digit
            language codes specified by [[!ISO639-2]].
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em> <code>sequence&lt;DOMString&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>getSubtitleLanguages</code></dfn>
          </dt>
          <dd>
            MUST return the subtitle languages of the TV/Radio program in
            3-digit language codes specified by [[!ISO639-2]].
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em> <code>sequence&lt;DOMString&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>getGenres</code></dfn>
          </dt>
          <dd>
            MUST return the genres of the TV/Radio program. Please note that
            the classification might vary between different broadcasting
            standards.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em> <code>sequence&lt;DOMString&gt;</code>
            </div>
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface TVTriggerCue - - - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVTriggerCue</dfn></a> Interface
      </h2>
      <p>
        The <a>TVTriggerCue</a> interface represents a bunch of properties and
        a set of operations related to the TV/Radio trigger, which may be used
        to carry some information via in-band or out-of-band mechanism based on
        the current playing content. It's inherited from the
        <code><a>TextTrackCue</a></code> interface, which requires
        <code>startTime</code> and <code>endTime</code>, and can be accessed by
        the <code><a>video</a></code> or <code><a>audio</a></code> element by
        adding the <code><a>TextTrackCue</a></code> to the
        <code><a>TextTrack</a></code> associated with the
        <code><a>HTMLMediaElement</a></code>. Besides, the
        <code><a>TextTrack</a></code> can rely on its <code><a href=
        "http://www.w3.org/TR/html5/embedded-content-0.html#handler-texttrack-oncuechange">
        oncuechange</a></code> event to realize a TV/Radio trigger becomes
        active or dismissed.
      </p>
      <pre class="idl">interface TVTriggerCue : TextTrackCue {
    readonly        attribute TVTriggerType  type;
    readonly        attribute DOMString?     title;
    readonly        attribute DOMString?     url;
    readonly        attribute TVChannel?     channel;
    readonly        attribute TVMediaStream? stream;
    readonly        attribute object?        additionalData;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVTriggerCue" data-link-for=
        "TVTriggerCue">
          <dt>
            <dfn><code>type</code></dfn> of type <span class=
            "idlAttrType"><a>TVTriggerType</a></span>, readonly
          </dt>
          <dd>
            MUST return the type of the TV/Radio trigger.
          </dd>
          <dt>
            <dfn><code>title</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the human readable title for the TV/Radio trigger.
          </dd>
          <dt>
            <dfn><code>url</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the URL for the TV/Radio trigger.
          </dd>
          <dt>
            <dfn><code>channel</code></dfn> of type <span class=
            "idlAttrType"><a>TVChannel</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the channel associated with the TV/Radio trigger.
          </dd>
          <dt>
            <dfn><code>stream</code></dfn> of type <span class=
            "idlAttrType"><a>TVMediaStream</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the TVMediaStream object that could be played for the
            TV trigger.
          </dd>
          <dt>
            <dfn><code>additionalData</code></dfn> of type <span class=
            "idlAttrType"><a>object</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the content source information or other supplemental
            information for the TV trigger. Please note that the detailed data
            might vary between different broadcasting standards or only known
            by private agreements.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface TVRecording  - - - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVRecording</dfn></a> Interface
      </h2>
      <p>
        The <a>TVRecording</a> interface represents a bunch of properties and a
        set of operations related to the TV/Radio recording. The recording
        should automatically start recording at the specified start time. And
        it may stop either at the specified end time, by an explicit
        <code>stop()</code> call, or be interrupted by the user agent due to a
        channel switch against the required underlying resource (i.e. the same
        tuner which the recording channel belongs to since watching takes
        priority over recording), or an error.
      </p>
      <pre class="idl">interface TVRecording {
    Promise&lt;TVMediaStream&gt; getStream ();
    Promise&lt;void&gt;          stop ();
    readonly        attribute DOMString          id;
    readonly        attribute TVChannel          channel;
    readonly        attribute TVProgram?         program;

    readonly        attribute DOMTimeStamp       startTime;
    readonly        attribute DOMTimeStamp       endTime;
    readonly        attribute TVRecordingState   state;
    readonly        attribute unsigned long long size;
    readonly        attribute DOMTimeStamp       duration;
                    attribute DOMString          description;
                    attribute EventHandler       onrecordingchange;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVRecording" data-link-for=
        "TVRecording">
          <dt>
            <dfn><code>id</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the ID of the TV/Radio recording.
          </dd>
          <dt>
            <dfn><code>channel</code></dfn> of type <span class=
            "idlAttrType"><a>TVChannel</a></span>, readonly
          </dt>
          <dd>
            MUST return the associated channel of the TV/Radio recording.
          </dd>
          <dt>
            <dfn><code>program</code></dfn> of type <span class=
            "idlAttrType"><a>TVProgram</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the associated program of the TV/Radio recording if
            applicable. Please note the recording should keep track of the
            relevant updates in Event Information Table (EIT) in the case of
            DVB or ProgramInfo in the case of DAB while <a>TVProgram</a> is
            specified, and then update correspondent attributes and fire a
            <a>TVRecordingChangeEvent</a> accordingly. Furthermore, if the
            updated time frame conflicts with some existent ones, and there's
            no sufficient resource (i.e. tuner) to meet this, then the
            recording should change its state to <code>stopped</code>.
          </dd>
          <dt>
            <dfn><code>startTime</code></dfn> of type <span class=
            "idlAttrType"><a>DOMTimeStamp</a></span>, readonly
          </dt>
          <dd>
            MUST return the start time of the TV/Radio recording, in
            milliseconds relative to 1970-01-01T00:00:00Z.
          </dd>
          <dt>
            <dfn><code>endTime</code></dfn> of type <span class=
            "idlAttrType"><a>DOMTimeStamp</a></span>, readonly
          </dt>
          <dd>

            MUST return the end time of the TV/Radio recording, in
            milliseconds relative to 1970-01-01T00:00:00Z.
          </dd>
          <dt>
            <dfn><code>state</code></dfn> of type <span class=
            "idlAttrType"><a>TVRecordingState</a></span>, readonly
          </dt>
          <dd>
            MUST return the current state of the TV/Radio recording.
          </dd>
          <dt>
            <dfn><code>size</code></dfn> of type <span class=
            "idlAttrType"><a>unsigned long long</a></span>, readonly
          </dt>
          <dd>
            MUST return the actual size of the TV/Radio recording. Please note
            the value should be zero if the TV recording hasn't actually
            recorded anything.
          </dd>
          <dt>
            <dfn><code>duration</code></dfn> of type <span class=
            "idlAttrType"><a>DOMTimeStamp</a></span>, readonly
          </dt>
          <dd>
            MUST return the actual duration of the TV/Radio recording, in
            milliseconds. Please note the value should be zero if the TV
            recording hasn't actually recorded anything.
          </dd>
          <dt>
            <dfn><code>description</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>
          </dt>
          <dd>
            MUST return the description of the TV/Radio recording.
          </dd>
          <dt>
            <dfn><code>onrecordingchange</code></dfn> of type <span class=
            "idlAttrType"><a>EventHandler</a></span>
          </dt>
          <dd>
            Handles the <code>recordingchange</code> event of type
            <a>TVRecordingChangeEvent</a>, fired when the recording time frame
            or the state of the TV/Radio recording has been changed.
          </dd>
        </dl>
      </section>
      <section>
        <h2>
          Methods
        </h2>
        <dl class="methods" data-dfn-for="TVRecording" data-link-for=
        "TVRecording">
          <dt>
            <dfn><code>getStream</code></dfn>
          </dt>
          <dd>
            This method makes a request to retrieve the recorded content as a
            <a>TVMediaStream</a> object, which is extended from
            <code><a>MediaStream</a></code> and can be played by the
            <code><a>video</a></code> element by assigning the
            <a>TVMediaStream</a> to the <code><a>HTMLMediaElement</a></code>'s
            <code>srcObject</code> attribute. MUST return <em>null</em> if the
            TV/Radio recording hasn't actually recorded anything. Note that the
            <code><a>Promise</a></code> may be rejected with an
            <code>InvalidAccessError</code> if parental control is enabled and
            the recorded channel is locked.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em> <code>Promise&lt;TVMediaStream&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>stop</code></dfn>
          </dt>
          <dd>
            This method makes a request to stop the TV/Radio recording.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em> <code>Promise&lt;void&gt;</code>
            </div>
          </dd>
        </dl>
      </section>
      <section>
        <h3>
          Procedures
        </h3>
        <p>
          The <dfn><code>getStream</code></dfn> method when invoked MUST run
          the following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to the source to retrieve the recorded content
          that is available in the TV/Radio recording.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Let <var>stream</var> be the retrieved <a>TVMediaStream</a>
              object.
              </li>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> with
              <em>stream</em> as the <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
        <p>
          The <dfn><code>stop</code></dfn> method when invoked MUST run the
          following steps:
        </p>
        <ol>
          <li>Let <var>promise</var> be a new <code><a>Promise</a></code>
          object and <var>resolver</var> be its associated
          <code>resolver</code>.
          </li>
          <li>Return <var>promise</var> to the caller.
          </li>
          <li>Make a request to the TV/Radio recording to stop it.
          </li>
          <li>If an <var>error</var> occurs invoke <em>resolver</em>'s
            <a class="internalDFN" href="#dfn-reject-algorithm">reject
            algorithm</a> with <em>error</em> as the <code>value</code>
            argument.
          </li>
          <li>When the request has been successfully completed:
            <ol>
              <li>Invoke <em>resolver</em>'s <a class="internalDFN" href=
              "#dfn-fulfill-algorithm">fulfill algorithm</a> without assigning
              a value to <code>value</code> argument.
              </li>
            </ol>
          </li>
        </ol>
      </section>
      <section>
        <h3>
          Event handlers
        </h3>
        <p>
          The following are the <a class="internalDFN" href=
          "#dfn-eventhandler">event handlers</a> (and their corresponding
          <a class="internalDFN" href="#dfn-eventtypes">event types</a>) that
          MUST be supported as attributes by the <a>TVRecording</a> object.
        </p>
        <table class="simple">
          <thead>
            <tr>
              <th>
                Event handler
              </th>
              <th>
                Event name
              </th>
              <th>
                Event type
              </th>
              <th>
                Short description
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <strong><code>onrecordingchange</code></strong>
              </td>
              <td>
                <code>recordingchange</code>
              </td>
              <td>
                <a><code>TVRecordingChangeEvent</code></a>
              </td>
              <td>
                Handles the information of the updates for TV/Radio recordings.
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface TVMediaStream  - - - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVMediaStream</dfn></a> Interface
      </h2>
      <p>
        The <a>TVMediaStream</a> interface is an extended
        <code><a>MediaStream</a></code> with a buffering mechanism to support
        basic seekability. It can be played by the <code><a>video</a></code>
        or<code><a>audio</a></code> element by assigning the
        <a>TVMediaStream</a> to the <code><a>HTMLMediaElement</a></code>'s
        <code>srcObject</code> attribute.
      </p>
	  <p>A <a>TVMediaStream</a> represents the stream data for all components
	  within a channel being presented. It is obtained from a <a>TVSource</a>, 
	  and when a <a>TVMediaStream</a> object is created it means that all of the 
	  resources needed to receive and present that channel have been 
	  successfully allocated.
	  </p>
      <pre class="idl">interface TVMediaStream : MediaStream {
    sequence&lt;TextTrack&gt; getTextTracks ();
    void                addTextTrack (TextTrack textTrack);
    void                removeTextTrack (TextTrack textTrack);
};</pre>
      <section>
        <h2>
          Methods
        </h2>
        <dl class="methods" data-dfn-for="TVMediaStream" data-link-for=
        "TVMediaStream">
          <dt>
            <dfn><code>getTextTracks</code></dfn>
          </dt>
          <dd>
            MUST return the text tracks in this stream.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em> <code>sequence&lt;TextTrack&gt;</code>
            </div>
          </dd>
          <dt>
            <dfn><code>addTextTrack</code></dfn>
          </dt>
          <dd>
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    textTrack
                  </td>
                  <td class="prmType">
                    <code>TextTrack</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    The TextTrack object to be added.
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em> <code>void</code>
            </div>
          </dd>
          <dt>
            <dfn><code>removeTextTrack</code></dfn>
          </dt>
          <dd>
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    textTrack
                  </td>
                  <td class="prmType">
                    <code>TextTrack</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmDesc">
                    The TextTrack object to be removed.
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em> <code>void</code>
            </div>
          </dd>
        </dl>
      </section>
      <section>
        <h3>
          <code><a>HTMLMediaElement</a></code> Attributes When Playing a
          <a>TVMediaStream</a>
        </h3>
        <p>
          The nature of no buffering of the <code><a>MediaStream</a></code>
          places certain restrictions on the behavior and attribute values of
          the associated <code><a>HTMLMediaElement</a></code> and on the
          operations that can be performed on it. Yet since
          <a>TVMediaStream</a> is with a buffered mechanism to support basic
          seekability, it may be less restrictive to some extent, as shown
          below:
        </p>
        <table class="simple">
          <thead>
            <tr>
              <th scope="col">
                Attribute Name
              </th>
              <th scope="col">
                Attribute Type
              </th>
              <th scope="col">
                Valid Values When Using a TVMediaStream
              </th>
              <th scope="col">
                Additional considerations
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#dom-media-currentsrc">
                <code>currentSrc</code></a>
              </td>
              <td>
                <code>DOMString</code>
              </td>
              <td>
                The empty string
              </td>
              <td>
                When <code>srcObject</code> is specified the User Agent MUST
                set this to the empty string. (Same as
                <code><a>MediaStream</a></code>.)
              </td>
            </tr>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload">
                <code>preload</code></a>
              </td>
              <td>
                <code>DOMString</code>
              </td>
              <td>
                none
              </td>
              <td>
                A <a>TVMediaStream</a> cannot be preloaded. (Same as
                <code><a>MediaStream</a></code>.)
              </td>
            </tr>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#dom-media-buffered">
                <code>buffered</code></a>
              </td>
              <td>
                <a><code>TimeRanges</code></a>
              </td>
              <td>
                Same as <code><a>HTMLMediaElement</a></code>.
              </td>
              <td>
                Unlock the restriction applied by
                <code><a>MediaStream</a></code>.
              </td>
            </tr>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#dom-media-networkstate">
                <code>networkState</code></a>
              </td>
              <td>
                <code>unsigned short</code>
              </td>
              <td>
                NETWORK_IDLE
              </td>
              <td>
                The media element does not fetch the <a>TVMediaStream</a> so
                there is no network traffic. (Same as
                <code><a>MediaStream</a></code>.)
              </td>
            </tr>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#dom-media-readystate">
                <code>readyState</code></a>
              </td>
              <td>
                <code>unsigned short</code>
              </td>
              <td>
                HAVE_NOTHING, HAVE_ENOUGH_DATA
              </td>
              <td>
                A <a>TVMediaStream</a> may be created before there is any data
                available, for example when a stream is received from a remote
                peer. The value of the <code>readyState</code> of the media
                element MUST be <em>HAVE_NOTHING</em> before the first media
                arrives and <em>HAVE_ENOUGH_DATA</em> once the first media has
                arrived. (Same as <code><a>MediaStream</a></code>.)
              </td>
            </tr>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#dom-media-currenttime">
                <code>currentTime</code></a>
              </td>
              <td>
                <code>double</code>
              </td>
              <td>
                Same as <code><a>HTMLMediaElement</a></code>.
              </td>
              <td>
                Unlock the restriction applied by
                <code><a>MediaStream</a></code>.
              </td>
            </tr>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#dom-media-duration">
                <code>duration</code></a>
              </td>
              <td>
                <code>unrestricted double</code>
              </td>
              <td>
                Same as <code><a>HTMLMediaElement</a></code>.
              </td>
              <td>
                Unlock the restriction applied by
                <code><a>MediaStream</a></code>.
              </td>
            </tr>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seeking">
                <code>seeking</code></a>
              </td>
              <td>
                <code>boolean</code>
              </td>
              <td>
                Same as <code><a>HTMLMediaElement</a></code>.
              </td>
              <td>
                Unlock the restriction applied by
                <code><a>MediaStream</a></code>.
              </td>
            </tr>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultplaybackrate">
                <code>defaultPlaybackRate</code></a>
              </td>
              <td>
                <code>double</code>
              </td>
              <td>
                Same as <code><a>HTMLMediaElement</a></code>.
              </td>
              <td>
                Unlock the restriction applied by
                <code><a>MediaStream</a></code>.
              </td>
            </tr>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate">
                <code>playbackRate</code></a>
              </td>
              <td>
                <code>double</code>
              </td>
              <td>
                Same as <code><a>HTMLMediaElement</a></code>.
              </td>
              <td>
                Unlock the restriction applied by
                <code><a>MediaStream</a></code>.
              </td>
            </tr>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#dom-media-played">
                <code>played</code></a>
              </td>
              <td>
                <a><code>TimeRanges</code></a>
              </td>
              <td>
                Same as <code><a>HTMLMediaElement</a></code>.
              </td>
              <td>
                Unlock the restriction applied by
                <code><a>MediaStream</a></code>.
              </td>
            </tr>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seekable">
                <code>seekable</code></a>
              </td>
              <td>
                <a><code>TimeRanges</code></a>
              </td>
              <td>
                Same as <code><a>HTMLMediaElement</a></code>.
              </td>
              <td>
                Unlock the restriction applied by
                <code><a>MediaStream</a></code>.
              </td>
            </tr>
            <tr>
              <td>
                <a class="externalDFN" href=
                "http://www.w3.org/TR/html5/embedded-content-0.html#dom-media-loop">
                <code>loop</code></a>
              </td>
              <td>
                <code>boolean</code>
              </td>
              <td>
                Same as <code><a>HTMLMediaElement</a></code>.
              </td>
              <td>
                Unlock the restriction applied by
                <code><a>MediaStream</a></code>.
              </td>
            </tr>
          </tbody>
        </table>
      </section>
      <section>
        <h3>
          Time-shifting
        </h3>
        <p>
          Applications may utilize <a>TVRecording</a> and <a>TVMediaStream</a>
          to fulfill time-shifting scenarios. When time-shifting is enabled, it
          may add a TV/Radio recording for the current playing channel without
          specifying start time, which makes the recording starts from now on,
          or instead by specifying the live TV/Radio program. (The user agent
          should be able to play and record the same channel at the same time.)
          Then when it comes to switch to the time-shifted content, the
          <a>TVMediaStream</a> generated from the TV/Radio recording can be
          assigned to the <code><a>video</a></code> or
          <code><a>audio</a></code> element used for playing the current
          <code><a>MediaStream</a></code>. So the application may play with the
          <code><a>video</a></code> or <code><a>audio</a></code> element to set
          proper playback rates, seek to specific time, play/pause the buffered
          stream, and listen to some correspondent events. And when
          time-shifting is switched off (i.e. the recorded content has been
          fast forwarded to the current end), the application should assign the
          original <code><a>MediaStream</a></code> back to the
          <code><a>video</a></code> or <code><a>audio</a></code> element.
          Please note applications may need to regularly clean up old TV/Radio
          recordings used for time-shifting.
        </p>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface TVCICard - - - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVCICard</dfn></a> Interface
      </h2>
      <p>
        The <a>TVCICard</a> interface represents a bunch of properties related
        to CI (Common Interface) card which is used to decrypt encrypted TV
        channel.
      </p>
      <pre class="idl">interface TVCICard {
    readonly        attribute TVCICardState state;
    readonly        attribute DOMString     casSystemId;
    readonly        attribute boolean       isInUse;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVCICard" data-link-for=
        "TVCICard">
          <dt>
            <dfn><code>state</code></dfn> of type <span class=
            "idlAttrType"><a>TVCICardState</a></span>, readonly
          </dt>
          <dd>
            MUST return the state of the CI card.
          </dd>
          <dt>
            <dfn><code>casSystemId</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the CAS (Conditional Access System) system ID for the
            pertaining CI card.
          </dd>
          <dt>
            <dfn><code>isInUse</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>, readonly
          </dt>
          <dd>
            MUST indicate whether the CI card is in use. Note that if multiple
            cards happen to represent the same <a>casSystemId</a>, at most one
            of them can have this attribute set.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - - - Dictionary TVStartScanningOptions   - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVStartScanningOptions</dfn></a> Dictionary
      </h2>
      <p>
        The <a>TVStartScanningOptions</a> dictionary contains the information
        for scanning the TV/Radio channels.
      </p>
      <pre class="idl">dictionary TVStartScanningOptions {
             boolean isRescanned;
};</pre>
      <section>
        <h2>
          Dictionary <a class="idlType">TVStartScanningOptions</a> Members
        </h2>
        <dl class="dictionary-members" data-dfn-for="TVStartScanningOptions"
        data-link-for="TVStartScanningOptions">
          <dt>
            <dfn><code>isRescanned</code></dfn> of type <span class=
            "idlMemberType"><a>boolean</a></span>
          </dt>
          <dd>
            Specifies whether or not the process of scanning the TV/Radio
            channels has to clear the currently scanned TV/Radio channels
            before scanning.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - Dictionary TVGetProgramsOptions   - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVGetProgramsOptions</dfn></a> Dictionary
      </h2>
      <p>
        The <a>TVGetProgramsOptions</a> dictionary contains the information for
        retrieving the TV/Radio programs.
      </p>
      <pre class="idl">dictionary TVGetProgramsOptions {

             DOMTimeStamp startTime;
             DOMTimeStamp endTime;
             DOMString    genre;
};</pre>
      <section>
        <h2>
          Dictionary <a class="idlType">TVGetProgramsOptions</a> Members
        </h2>
        <dl class="dictionary-members" data-dfn-for="TVGetProgramsOptions"
        data-link-for="TVGetProgramsOptions">
          <dt>
            <dfn><code>startTime</code></dfn> of type <span class=
            "idlMemberType"><a>DOMTimeStamp</a></span>
          </dt>
          <dd>
            Specifies the start time of a time period which bounds the time
            slots of TV/Radio programs to be retrieved, in milliseconds
            relative to 1970-01-01T00:00:00Z.
          </dd>
          <dt>
            <dfn><code>endTime</code></dfn> of type <span class=
            "idlMemberType"><a>DOMTimeStamp</a></span>
          </dt>
          <dd>
            Specifies the end time of a time period which bounds the time slots
            of TV/Radio programs to be retrieved, in milliseconds relative to
            1970-01-01T00:00:00Z.
          </dd>
          <dt>
            <dfn><code>genre</code></dfn> of type <span class=
            "idlMemberType"><a>DOMString</a></span>
          </dt>
          <dd>
            Specifies the genre of TV/Radio programs to be retrieved.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - Dictionary TVAddRecordingOptions   - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVAddRecordingOptions</dfn></a> Dictionary
      </h2>
      <p>
        The <a>TVAddRecordingOptions</a> dictionary contains the information
        for adding a TV/Radio recording.
      </p>
      <pre class="idl">dictionary TVAddRecordingOptions {
    required DOMString     description;
    required TVChannel     channel;
             TVProgram?    program;
             DOMTimeStamp? startTime;
             DOMTimeStamp? endTime;
};</pre>
      <section>
        <h2>
          Dictionary <a class="idlType">TVAddRecordingOptions</a> Members
        </h2>
        <dl class="dictionary-members" data-dfn-for="TVAddRecordingOptions"
        data-link-for="TVAddRecordingOptions">
          <dt>
            <dfn><code>description</code></dfn> of type <span class=
            "idlMemberType"><a>DOMString</a></span>, required
          </dt>
          <dd>
            Specifies the description of the TV/Radio recording.
          </dd>
          <dt>
            <dfn><code>channel</code></dfn> of type <span class=
            "idlMemberType"><a>TVChannel</a></span>, required
          </dt>
          <dd>
            Specifies the channel to be recorded.
          </dd>
          <dt>
            <dfn><code>program</code></dfn> of type <span class=
            "idlMemberType"><a>TVProgram</a></span>, nullable
          </dt>
          <dd>
            Specifies the program to be recorded. Please note this could be
            omitted if the recording time frame can be determined by
            <code>startTime</code> and <code>endTime</code>.
          </dd>
          <dt>
            <dfn><code>startTime</code></dfn> of type <span class=
            "idlMemberType"><a>DOMTimeStamp</a></span>, nullable
          </dt>
          <dd>
            Specifies the start time of a recording time frame, in milliseconds
            relative to 1970-01-01T00:00:00Z. When not specified, it implies the
            recording should start from now on. Please note this could also be
            omitted and auto determined if <code>program</code> is specified.
          </dd>
          <dt>
            <dfn><code>endTime</code></dfn> of type <span class=
            "idlMemberType"><a>DOMTimeStamp</a></span>, nullable
          </dt>
          <dd>
            Specifies the end time of a recording time frame, in milliseconds
            relative to 1970-01-01T00:00:00Z. When not specified, it implies the
            recording should continue until a <code>stop()</code> call of
            <a>TVRecording</a> or the user agent forces it to stop due to
            resource control. Please note this could also be omitted and auto
            determined if <code>program</code> is specified.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - Dictionary TVGetRecordingsOptions   - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVGetRecordingsOptions</dfn></a> Dictionary
      </h2>
      <p>
        The <a>TVGetRecordingsOptions</a> dictionary contains the information
        for retrieving the TV/Radio recordings.
      </p>
      <pre class="idl">dictionary TVGetRecordingsOptions {
             TVRecordingState? state;
             DOMString?        id;
};</pre>
      <section>
        <h2>
          Dictionary <a class="idlType">TVGetRecordingsOptions</a> Members
        </h2>
        <dl class="dictionary-members" data-dfn-for="TVGetRecordingsOptions"
        data-link-for="TVGetRecordingsOptions">
          <dt>
            <dfn><code>state</code></dfn> of type <span class=
            "idlMemberType"><a>TVRecordingState</a></span>, nullable
          </dt>
          <dd>
            Specifies the state of the TV/Radio recordings to be retrieved.
          </dd>
          <dt>
            <dfn><code>id</code></dfn> of type <span class=
            "idlMemberType"><a>DOMString</a></span>, nullable
          </dt>
          <dd>
            Specifies the ID of the TV/Radio recording to be retrieved.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - Interface TVTunerChangeEvent - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVTunerChangeEvent</dfn></a> Interface
      </h2>
      <p>
        The <a>TVTunerChangeEvent</a> interface represents the event related
        to the TV/Radio tuner that is added/removed by the device.
      </p>
      <pre class="idl">interface TVTunerChangeEvent : Event {
    readonly        attribute TVTunerChangeEventOperation operation;
    readonly        attribute DOMString                    id;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVTunerChangeEvent"
        data-link-for="TVTunerChangeEvent">
          <dt>
            <dfn><code>operation</code></dfn> of type <span class=
            "idlAttrType"><a>TVTunerChangeEventOperation</a></span>, readonly
          </dt>
          <dd>
            MUST return the type of operation that changes the TV/Radio tuner.
          </dd>
          <dt>
            <dfn><code>id</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the ID of the TV/Radio tuner that is added/removed.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - Interface TVCurrentSourceChangeEvent - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVCurrentSourceChangeEvent</dfn></a> Interface
      </h2>
      <p>
        The <a>TVCurrentSourceChangeEvent</a> interface represents the event
        related to the current TV/Radio source that is configured by the method
        <code>setCurrentSource</code>.
      </p>
      <pre class="idl">interface TVCurrentSourceChangeEvent : Event {
    readonly        attribute TVSource? source;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVCurrentSourceChangeEvent"
        data-link-for="TVCurrentSourceChangeEvent">
          <dt>
            <dfn><code>source</code></dfn> of type <span class=
            "idlAttrType"><a>TVSource</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the source that is currently configured by the TV/Radio
            tuner. MUST return <em>null</em> if the TV/Radio source is not
            configured.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface TVEITBroadcastEvent - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVEITBroadcastEvent</dfn></a> Interface
      </h2>
      <p>
        The <a>TVEITBroadcastEvent</a> interface represents the event related
        to the available TV programs in the EIT that is broadcast by the TV
        source.
      </p>
      <pre class="idl">interface TVEITBroadcastEvent : Event {
    readonly        attribute object programs;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVEITBroadcastEvent"
        data-link-for="TVEITBroadcastEvent">
          <dt>
            <dfn><code>programs</code></dfn> of type <span class=
            "idlAttrType"><a>object</a></span>, readonly
          </dt>
          <dd>
            MUST return the available TV programs in the EIT that is
            broadcast by the TV source. Please note that it needs to be
            casted into a list of <code>TVProgram</code> instances. The cached
            value for this array needs to go into an internal slot for the
            object, and it should be cached there until the next time that the
            underlying array changes when the cached value will be updated.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface TVEmergencyAlertEvent - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVEmergencyAlertEvent</dfn></a> Interface
      </h2>
      <p>
        The <a>TVEmergencyAlertEvent</a> interface represents the event
        related to the emergency alert that is broadcast by the TV/Radio
        source.
      </p>
      <pre class="idl">interface TVEmergencyAlertEvent : Event {
    readonly        attribute DOMString? type;
    readonly        attribute DOMString? severityLevel;
    readonly        attribute DOMString? description;
    readonly        attribute TVChannel? channel;
    readonly        attribute DOMString? url;
    sequence&lt;DOMString&gt; getRegions ();
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVEmergencyAlertEvent"
        data-link-for="TVEmergencyAlertEvent">
          <dt>
            <dfn><code>type</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the the nature of the emergency, i.e. “Earthquake”,
            "Tsunami", “Child Abduction”. Please note that the classification
            might vary between different broadcasting standards.
          </dd>
          <dt>
            <dfn><code>severityLevel</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the severity level of the emergency alert. Please note
            that the classification of severity level might vary between
            different broadcasting standards. MUST return <em>null</em> when
            the emergency announcement is over.
          </dd>
          <dt>
            <dfn><code>description</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the human readable description of the emergency alert.
          </dd>
          <dt>
            <dfn><code>channel</code></dfn> of type <span class=
            "idlAttrType"><a>TVChannel</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the emergency channel which might be switched to for
            more information about the emergency.
          </dd>
          <dt>
            <dfn><code>url</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the URL where more information might be available.
          </dd>
        </dl>
      </section>
      <section>
        <h2>
          Methods
        </h2>
        <dl class="methods" data-dfn-for="TVEmergencyAlertEvent"
        data-link-for="TVEmergencyAlertEvent">
          <dt>
            <dfn><code>getRegions</code></dfn>
          </dt>
          <dd>
            MUST return the associated regions of the emergency alert. Please
            note that it might vary between different broadcasting standards.
            It could return an empty sequence if the emergency system doesn't
            reveal detailed geographical scope of the alert to the endpoint.
            <div>
              <em>No parameters.</em>
            </div>
            <div>
              <em>Return type:</em> <code>sequence&lt;DOMString&gt;</code>
            </div>
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - Interface TVScanningStateChangeEvent - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVScanningStateChangeEvent</dfn></a> Interface
      </h2>
      <p>
        The <a>TVScanningStateChangeEvent</a> interface represents the event
        related to the state of channel scanning, which is changed by the
        TV/Radio source.
      </p>
      <pre class="idl">interface TVScanningStateChangeEvent : Event {
    readonly        attribute TVScanningState state;
    readonly        attribute TVChannel?      channel;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVScanningStateChangeEvent"
        data-link-for="TVScanningStateChangeEvent">
          <dt>
            <dfn><code>state</code></dfn> of type <span class=
            "idlAttrType"><a>TVScanningState</a></span>, readonly
          </dt>
          <dd>
            MUST return the state of channel scanning, which is changed by the
            TV/Radio source.
          </dd>
          <dt>
            <dfn><code>channel</code></dfn> of type <span class=
            "idlAttrType"><a>TVChannel</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the TV/Radio channel that is scanned by the TV/Radio
            source. MUST return <em>null</em> if the <code>state</code> is not
            <code>"scanned"</code>.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - Interface TVCurrentChannelChangeEvent - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVCurrentChannelChangeEvent</dfn></a> Interface
      </h2>
      <p>
        The <a>TVCurrentChannelChangeEvent</a> interface represents the event
        related to the currently streamed TV/Radio channel that is tuned by the
        method <code>tuneTo</code> or <code>tuneToChannel</code>.
      </p>
      <pre class="idl">interface TVCurrentChannelChangeEvent : Event {
    readonly        attribute TVChannel? channel;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVCurrentChannelChangeEvent"
        data-link-for="TVCurrentChannelChangeEvent">
          <dt>
            <dfn><code>channel</code></dfn> of type <span class=
            "idlAttrType"><a>TVChannel</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the TV/Radio channel that is currently streamed by the
            TV/Radio tuner. MUST return <em>null</em> if the TV/Radio tuner is
            not streaming any data.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - Interface TVRecordingChangeEvent - - - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVRecordingChangeEvent</dfn></a> Interface
      </h2>
      <p>
        The <a>TVRecordingChangeEvent</a> interface represents the event
        related to the update of a TV/Radio recording.
      </p>
      <pre class="idl">interface TVRecordingChangeEvent : Event {
    readonly        attribute DOMString  id;
    readonly        attribute boolean    isTimeChange;
    readonly        attribute boolean    isStateChange;
    readonly        attribute DOMString? errorName;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVRecordingChangeEvent"
        data-link-for="TVRecordingChangeEvent">
          <dt>
            <dfn><code>id</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the ID of the updated TV/Radio recording.
          </dd>
          <dt>
            <dfn><code>isTimeChange</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>, readonly
          </dt>
          <dd>
            MUST indicate whether the recording time frame of the TV/Radio
            recording has changed.
          </dd>
          <dt>
            <dfn><code>isStateChange</code></dfn> of type <span class=
            "idlAttrType"><a>boolean</a></span>, readonly
          </dt>
          <dd>
            MUST indicate whether the state of the TV/Radio recording has
            changed.
          </dd>
          <dt>
            <dfn><code>errorName</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly, nullable
          </dt>
          <dd>
            MUST return the name of the DOMException, i.e. "AbortError", if
            this change involves with an error.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - Interface TVCICardChangeEvent - - - - - - - - - - -->
    <section>
      <h2>
        <a><dfn>TVCICardChangeEvent</dfn></a> Interface
      </h2>
      <p>
        The <a>TVCICardChangeEvent</a> interface represents the event related
        to the changes in the state of the CI (Common Interface) card.
      </p>
      <pre class="idl">interface TVCICardChangeEvent : Event {
    readonly        attribute TVCICardState state;
    readonly        attribute DOMString     casSystemId;
};</pre>
      <section>
        <h2>
          Attributes
        </h2>
        <dl class="attributes" data-dfn-for="TVCICardChangeEvent"
        data-link-for="TVCICardChangeEvent">
          <dt>
            <dfn><code>state</code></dfn> of type <span class=
            "idlAttrType"><a>TVCICardState</a></span>, readonly
          </dt>
          <dd>
            MUST return the updated state of the card.
          </dd>
          <dt>
            <dfn><code>casSystemId</code></dfn> of type <span class=
            "idlAttrType"><a>DOMString</a></span>, readonly
          </dt>
          <dd>
            MUST return the CAS (Conditional Access System) system ID of the
            card.
          </dd>
        </dl>
      </section>
    </section>
    <!-- - - - - - - - - - - - Interface Enumerations  - - - - - - - - - - - - - -->
    <section>
      <h2>
        Enumerations
      </h2>
      <p>
	      The attribute <code>type</code> in a <a>TVChannel</a> is of type 
	      <dfn>TVChannelType</dfn>, which can have the following values:
      </p>
      <div>
        <pre class="idl">enum TVChannelType {
    "tv",
    "radio",
    "data"
};</pre>
        <table class="simple" data-dfn-for="TVChannelType" data-link-for=
        "TVChannelType">
          <tbody>
            <tr>
              <th colspan="2">
                Enumeration description
              </th>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVChannelType.tv">tv</code></dfn>
              </td>
              <td>
                The channel is broadcast as a regular TV type.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVChannelType.radio">radio</code></dfn>
              </td>
              <td>
                The channel is broadcast as a radio type.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVChannelType.data">data</code></dfn>
              </td>
              <td>
                The channel is broadcast as a data type.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <p>
        The attribute <code>type</code> in a <a>TVApplication</a> is of type 
	<dfn>TVApplicationType</dfn>, which can have the following values:
      </p>
      <div>
        <pre class="idl">enum TVApplicationType {
    "hbbtv",
    "mheg",
    "sls",
    "dl",
    "jl"
};</pre>
        <table class="simple" data-dfn-for="TVApplicationType" data-link-for=
        "TVApplicationType">
          <tbody>
            <tr>
              <th colspan="2">
                Enumeration description
              </th>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVApplicationType.hbbtv">hbbtv</code></dfn>
              </td>
              <td>
                The application is a tv hbbtv application
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVApplicationType.mheg">mheg</code></dfn>
              </td>
              <td>
                The application is a tv mheg application
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVApplicationType.sls">sls</code></dfn>
              </td>
              <td>
                The application radio slideshow application
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVApplicationType.dl">dl</code></dfn>
              </td>
              <td>
                The application radio dynamic label application
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVApplicationType.jl">jl</code></dfn>
              </td>
              <td>
                The application radio journaline application
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <p>
        The attribute <code>operation</code> in the <a>TVTunerChangeEvent</a>
        can have the following values:
      </p>
      <div>
        <pre class="idl">enum <dfn>TVTunerChangeEventOperation</dfn> {
    "added",
    "removed"
};</pre>
        <table class="simple" data-dfn-for="TVTunerChangeEventOperation"
        data-link-for="TVTunerChangeEventOperation">
          <tbody>
            <tr>
              <th colspan="2">
                Enumeration description
              </th>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVTunerChangeEventOperation.added">added</code></dfn>
              </td>
              <td>
                A tuner is added.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVTunerChangeEventOperation.removed">removed</code></dfn>
              </td>
              <td>
                A tuner is removed.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <p>
        The attribute <code>state</code> in the
        <a>TVScanningStateChangeEvent</a> can have the following values:
      </p>
      <div>
        <pre class="idl">enum <dfn>TVScanningState</dfn> {
    "cleared",
    "scanned",
    "completed",
    "stopped"
};</pre>
        <table class="simple" data-dfn-for="TVScanningState" data-link-for=
        "TVScanningState">
          <tbody>
            <tr>
              <th colspan="2">
                Enumeration description
              </th>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVScanningState.cleared">cleared</code></dfn>
              </td>
              <td>
                The currently scanned TV/Radio channels have been cleared. This
                event may be fired before a channel scan is started.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVScanningState.scanned">scanned</code></dfn>
              </td>
              <td>
                A TV/Radio channel has been found by the source during the
                channel scan. The <code>channel</code> attribute in the
                <code>TVScanningStateChangeEvent</code> object references the
                channel found.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVScanningState.completed">completed</code></dfn>
              </td>
              <td>
                The channel scan has completed.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVScanningState.stopped">stopped</code></dfn>
              </td>
              <td>
                The channel scan has been stopped.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <p>
        The attribute <code>type</code> in the <a>TVTriggerCue</a> can have the
        following values:
      </p>
      <div>
        <pre class="idl">enum <dfn>TVTriggerType</dfn> {
    "channel-change",
    "time",
    "content-boundary",
    "fingerprint",
    "watermark",
    "context",
    "segment",
    "caption"
};</pre>
        <table class="simple" data-dfn-for="TVTriggerType" data-link-for=
        "TVTriggerType">
          <tbody>
            <tr>
              <th colspan="2">
                Enumeration description
              </th>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVTriggerType.channel-change">channel-change</code></dfn>
              </td>
              <td>
                Triggers when channel is switched.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id="idl-def-TVTriggerType.time">time</code></dfn>
              </td>
              <td>
                Triggers based on date and time.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVTriggerType.content-boundary">content-boundary</code></dfn>
              </td>
              <td>
                Triggers based on content boundary.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVTriggerType.fingerprint">fingerprint</code></dfn>
              </td>
              <td>
                Triggers based on content fingerprints.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVTriggerType.watermark">watermark</code></dfn>
              </td>
              <td>
                Triggers based on content watermarks.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVTriggerType.context">context</code></dfn>
              </td>
              <td>
                Triggers based on contextual information in content.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVTriggerType.segment">segment</code></dfn>
              </td>
              <td>
                Triggers based on program chapters or other segments within the
                program.
              </td>
            </tr>
            <tr>
              <td>
                <dfn><code id=
                "idl-def-TVTriggerType.caption">caption</code></dfn>
              </td>
              <td>
                Triggers based on subtitle captions.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
    <p>
      The attribute <code>state</code> in <a>TVRecording</a> can have the
      following values:
    </p>
    <div>
      <pre class="idl">enum <dfn>TVRecordingState</dfn> {
    "scheduled",
    "recording",
    "stopped"
};</pre>
      <table class="simple" data-dfn-for="TVRecordingState" data-link-for=
      "TVRecordingState">
        <tbody>
          <tr>
            <th colspan="2">
              Enumeration description
            </th>
          </tr>
          <tr>
            <td>
              <dfn><code id=
              "idl-def-TVRecordingState.scheduled">scheduled</code></dfn>
            </td>
            <td>
              The state of recording is scheduled.
            </td>
          </tr>
          <tr>
            <td>
              <dfn><code id=
              "idl-def-TVRecordingState.recording">recording</code></dfn>
            </td>
            <td>
              The state of recording is currently on.
            </td>
          </tr>
          <tr>
            <td>
              <dfn><code id=
              "idl-def-TVRecordingState.stopped">stopped</code></dfn>
            </td>
            <td>
              The state of recording is stopped from <code>scheduled</code> or
              canceled from <code>recording</code>.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <p>
      The attribute <code>state</code> in <a>TVCICard</a> can have the
      following values:
    </p>
    <div>
      <pre class="idl">enum <dfn>TVCICardState</dfn> {
    "inserted",
    "accepted",
    "removed",
    "error"
};</pre>
      <table class="simple" data-dfn-for="TVCICardState" data-link-for=
      "TVCICardState">
        <tbody>
          <tr>
            <th colspan="2">
              Enumeration description
            </th>
          </tr>
          <tr>
            <td>
              <dfn><code id=
              "idl-def-TVCICardState.inserted">inserted</code></dfn>
            </td>
            <td>
              The CI card is inserted.
            </td>
          </tr>
          <tr>
            <td>
              <dfn><code id=
              "idl-def-TVCICardState.accepted">accepted</code></dfn>
            </td>
            <td>
              The CI card is accepted.
            </td>
          </tr>
          <tr>
            <td>
              <dfn><code id=
              "idl-def-TVCICardState.removed">removed</code></dfn>
            </td>
            <td>
              The CI card is removed.
            </td>
          </tr>
          <tr>
            <td>
              <dfn><code id="idl-def-TVCICardState.error">error</code></dfn>
            </td>
            <td>
              The CI Card has encountered an error.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- - - - - - - - Privacy and security considerations - - - - - - - - - - - -->
    <section id="privacy-and-security-considerations">
      <h2>
        Privacy and Security Considerations
      </h2>
      <p>
        This section is non-normative; it specifies no new behavior, but instead
		summarizes information already present in other parts of the
		specification.
      </p>
      <p class="ednote">
        This section will be completed in a future draft of the specification.  See 
		<a href="https://github.com/w3c/tvcontrol-api/issues/8">this issue</a> for
        details.
      </p>
    </section>
    <!-- - - - - - - - - - - - Acknowledgements  - - - - - - - - - - - - - - - - -->
    <section>
      <h2>
        Acknowledgements
      </h2>
      <p>
        The following people have contributed to this draft specification
        through their participation in the TV Control API Community Group:
        Kazayuki Ashimura, Marco Chen, Daniel Davis, Francois Daoust, Yoshiharu
        Dewa, Paul Higgs, Bin Hu, Shelly Lin, Sangwhan Moon, Chris Needham,
        Jon Piesing.
      </p>
    </section>
    <!-- - - - - - - - - - - - - - - Conformance - - - - - - - - - - - - - - - - -->
    <section id="conformance">
      <p>
        All of the text of this specification is normative except sections
        explicitly marked as non-normative, examples, and notes.
      </p>
      <p>
        This specification defines conformance criteria that apply to a single
        product: the <dfn>user agent</dfn> that implements the interfaces that
        it contains.
      </p>
      <p>
        Implementations that use ECMAScript to implement the APIs defined in
        this specification MUST implement them in a manner consistent with the
        ECMAScript Bindings defined in the Web IDL specification [[!WEBIDL]],
        as this specification uses that specification and terminology.
      </p>
    </section>
  </body>
</html>
